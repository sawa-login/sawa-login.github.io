{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/src_ludo/components/toast/toast.vue?43bb","webpack:///./src/src_diwania/views/create-modal/index.vue","webpack:///./src/src_diwania/views/create-modal/index.vue?73b5","webpack:///./src/src_diwania/views/create-modal/index.vue?b629","webpack:///./src/src_diwania/views/create-modal/index.vue?10e4","webpack:///./src/src_ludo/views/index.vue?8a3d","webpack:///./src/helper.ts","webpack:///./src/src_diwania/views/index.vue?6a7a","webpack:///./src/src_ludo/components/toast/toast.vue","webpack:///./src/src_ludo/components/toast/toast.vue?06db","webpack:///./src/src_ludo/components/toast/toast.vue?815a","webpack:///./src/src_ludo/components/toast/toast.vue?0b0e","webpack:///./src/src_ludo/components/base/modal/modal.vue?c883","webpack:///./src/src_baloot/assets/ar/img/loading/loading.gif","webpack:///./src/src_diwania/views/index.vue?1e0c","webpack:///./src/src_baloot/components/modal/Dialog.vue?b13e","webpack:///./src/src_ludo/components/base/modal/modal.vue","webpack:///./src/src_ludo/components/base/modal/modal.vue?d192","webpack:///./src/src_ludo/components/base/modal/modal.vue?dfa2","webpack:///./src/src_ludo/components/base/modal/modal.vue?5559","webpack:///./src/src_baloot/components/modal/modal.vue?1aae","webpack:///./src/src_diwania/components/loading.vue?506a","webpack:///./src/src_diwania/utils/index.ts","webpack:///./src/src_baloot/utils/event.ts","webpack:///./src/src_ludo/components/loading.vue?6852","webpack:///./src/src_diwania/utils/firebase-manager/index.ts","webpack:///./src/src_baloot/assets/ar/css/app.module.scss?e8ea","webpack:///./src/src_ludo/views/create-modal/index.vue?79d9","webpack:///./src/src_diwania/components/loading.vue","webpack:///./src/src_diwania/components/loading.vue?2432","webpack:///./src/src_diwania/components/loading.vue?194e","webpack:///./src/src_diwania/components/loading.vue?3aad","webpack:///./src/src_diwania/components/base/modal/modal.vue?24f2","webpack:///./src/src_baloot/components/ui/toast.vue?e43b","webpack:///./src/src_ludo/views/create-modal/index.vue","webpack:///./src/src_ludo/views/create-modal/index.vue?5f19","webpack:///./src/src_ludo/views/create-modal/index.vue?276a","webpack:///./src/src_ludo/views/create-modal/index.vue?7bd2","webpack:///./src/src_diwania/utils/new-login.ts","webpack:///./src/src_baloot/api/index.ts","webpack:///./src/src_diwania/store/index.ts","webpack:///./src/fb.ts","webpack:///./src/src_diwania/components/base/modal/modal.vue","webpack:///./src/src_diwania/components/base/modal/modal.vue?3ae9","webpack:///./src/src_diwania/components/base/modal/modal.vue?ba7c","webpack:///./src/src_diwania/components/base/modal/modal.vue?5140","webpack:///./src/src_ludo/utils/new-login.ts","webpack:///./src/src_baloot/components/login/Login2.vue?3219","webpack:///./src/src_ludo/store/index.ts","webpack:///./src/src_ludo/api/index.ts","webpack:///./src/src_ludo/main.vue","webpack:///./src/src_ludo/App.tsx","webpack:///./src/src_ludo/main.vue?af64","webpack:///./src/src_ludo/main.vue?1d7a","webpack:///./src/src_ludo/main.vue?f513","webpack:///./src/src_ludo/views/index.vue","webpack:///./src/src_ludo/views/index.vue?1740","webpack:///./src/src_ludo/views/index.vue?9539","webpack:///./src/src_ludo/views/index.vue?c517","webpack:///./src/src_ludo/router/index.ts","webpack:///./src/src_ludo/components/loading.vue","webpack:///./src/src_ludo/components/loading.vue?1230","webpack:///./src/src_ludo/components/loading.vue?c28b","webpack:///./src/src_ludo/components/loading.vue?8da8","webpack:///./src/src_ludo/main.ts","webpack:///./src/src_baloot/components/common/loading/loading.vue","webpack:///./src/src_baloot/components/common/loading/loading.vue?f254","webpack:///./src/src_baloot/components/common/loading/loading.vue?88bb","webpack:///./src/src_baloot/components/common/loading/loading.vue?8020","webpack:///./src/src_baloot/components/common/loading/directive.ts","webpack:///./src/src_baloot/components/ui/toast.vue","webpack:///./src/src_baloot/components/ui/toast.vue?5717","webpack:///./src/src_baloot/components/ui/toast.vue?c2f2","webpack:///./src/src_baloot/components/ui/toast.vue?e07c","webpack:///./src/src_baloot/components/login/index.vue","webpack:///./src/src_baloot/utils/lang.ts","webpack:///./src/src_baloot/utils/report.ts","webpack:///./src/src_baloot/components/login/index.vue?da0f","webpack:///./src/src_baloot/components/login/index.vue?298f","webpack:///./src/src_baloot/components/login/index.vue?9c72","webpack:///./src/src_baloot/components/login/Login2.vue","webpack:///./src/src_baloot/components/modal/modal.vue","webpack:///./src/src_baloot/components/modal/modal.vue?5a29","webpack:///./src/src_baloot/components/modal/modal.vue?d959","webpack:///./src/src_baloot/components/modal/modal.vue?5d52","webpack:///./src/src_baloot/components/modal/Dialog.vue","webpack:///./src/src_baloot/components/modal/Dialog.vue?2a9e","webpack:///./src/src_baloot/components/modal/Dialog.vue?656f","webpack:///./src/src_baloot/components/modal/Dialog.vue?8df4","webpack:///./src/src_baloot/components/login/Login2.vue?25eb","webpack:///./src/src_baloot/components/login/Login2.vue?b33e","webpack:///./src/src_baloot/components/login/Login2.vue?cbaa","webpack:///./src/src_baloot/components/base/index.tsx","webpack:///./src/src_baloot/utils/bridge.ts","webpack:///./src/src_baloot/store/index.ts","webpack:///./src/src_baloot/conf.ts","webpack:///./src/src_baloot/utils/time.ts","webpack:///./src/src_baloot/App.tsx","webpack:///./src/src_baloot/utils/firebase-manager/index.ts","webpack:///./src/src_baloot/utils/local-storage-manager/index.ts","webpack:///./src/src_baloot/utils/local-storage-manager/consts.ts","webpack:///./src/src_baloot/utils/dial.ts","webpack:///./src/src_baloot/main.ts","webpack:///./src/src_diwania/main.vue","webpack:///./src/src_diwania/App.tsx","webpack:///./src/src_diwania/main.vue?b184","webpack:///./src/src_diwania/main.vue?ca5e","webpack:///./src/src_diwania/main.vue?26e1","webpack:///./src/src_diwania/views/index.vue","webpack:///./src/src_diwania/views/index.vue?58a9","webpack:///./src/src_diwania/views/index.vue?f11b","webpack:///./src/src_diwania/views/index.vue?771d","webpack:///./src/src_diwania/router/index.ts","webpack:///./src/src_diwania/main.ts","webpack:///./src/main.ts","webpack:///./src/src_diwania/event.ts","webpack:///./src/src_diwania/components/toast/toast.vue","webpack:///./src/src_diwania/components/toast/toast.vue?e5d8","webpack:///./src/src_diwania/components/toast/toast.vue?5ddb","webpack:///./src/src_diwania/components/toast/toast.vue?b2cd","webpack:///./src/src_diwania/views/create-modal/index.vue?01a1","webpack:///./src/src_diwania/components/toast/toast.vue?c3e2","webpack:///./src/src_ludo/event.ts","webpack:///./src/src_diwania/api/index.ts","webpack:///./src/src_baloot/utils/func.ts","webpack:///./src/src_ludo/utils/index.ts","webpack:///./src/src_baloot/components/common/loading/loading.vue?869e","webpack:///./src/src_diwania/utils/local-storage-manager/index.ts","webpack:///./src/src_diwania/utils/local-storage-manager/consts.ts","webpack:///./src/src_diwania/utils/report.ts","webpack:///./src/src_diwania/utils/dial.ts","webpack:///./src/src_ludo/views/index.vue?1df6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","_setup","_setupProxy","staticClass","attrs","_v","_s","_T","on","click","cancel","staticRenderFns","_defineComponent","__name","props","cb","source","onCancel","setup","__props","reportEvent","Events","h5_loginpage_enpower_no_account_pop_click","element_name","onMounted","h5_loginpage_enpower_no_account_pop_show","__sfc","component","ProductType","bundleid","getArgsFromUrlHash","getProductType","v","matchExpr","Ksa","Baloot","Diwania","Weyay","WeyayPlay","Ludo","isProductType","productType","isProductAndroidLudo","includes","getDefaultAreaCode","getDefaultAreaFlag","async","addVConsolePlugin","showWrap","class","showContent","text","_e","Toast","Vue","extend","String","default","showToast","duration","toast","el","$el","body","show","className","$event","currentTarget","preventDefault","stopPropagation","onPressMask","arguments","swashIn","isIn","swashOut","curComp","_b","ref","params","useCloseBtn","onPressClose","lockScreen","obj","JavaBridgeObj","enableRefresh","scrollEle","documentElement","scrollTop","getElementById","pageYOffset","unlockScreen","top","Modal","isTop","cancelable","beforePressMask","beforePressClose","store","methods","setBeforePressMask","onPressMaskBefore","log","setBeforePressClose","onPressCloseBefore","onClose","setBackBtn","isShow","showBackBtn","JSON","stringify","bl","showRefreshControllIfNeed","kinoJsApi","setRefreshEnable","watch","$emit","showModal","modal","initAppleLogin","AppleID","auth","init","clientId","client_id","apple","scope","redirectURI","location","split","state","usePopup","router","url","refreshAccount","accountResp","identities","user_info","session_key","uid","icon_verify","encodeURIComponent","warn","getArgsFromUrl","goAccountsSelectingPage","identitiesResp","mobile","country_code","login_key","report","eventName","fields","json","btoa","unregisterRemind","_objectSpread","host","link","refreshDeviceToken","country","flag","localStorage","setItem","setUrlParams2","getSub","access_token","arr","subs","atob","parse","sub","showBanToast","dd","Number","dayjs","utcOffset","format","sprintf","date","versionToNumber","versionString","parts","currentPart","padStart","parseInt","getAppClientVersion","version_code","vc","toString","applyColorTheme","darkMode","classList","add","remove","utc","reportError","vm","info","_err$stack","stack","join","dict","str_param2","str_param3","CLIENT_ID","google","facebook","fb","appid","wrapEvent","eventDict","uuid","ua","navigator","userAgent","op","getOpenid","tk","getSessionKey","rid","version","process","VUE_APP_VERSION","proj","VUE_APP_PROJ","addEvent","initErrorHandler","config","errorHandler","id","lineno","colno","addEventListener","filename","reason","FirebaseManager","getInstance","instance","firebaseConfig","VUE_APP_FLAVOR","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","analytics","getAnalytics","remoteConfig","getRemoteConfig","perf","getPerformance","firebasePerformanceTrace","trace","reportToFirebase","logEvent","getValueFromConfig","fetchAndActivate","val","getValue","asString","_m","defineComponent","created","onRef","change","initValues","handler","newv","oldv","deep","appStyle","isWeyay","computed","isTargetVersion","callbackToClient","ticket","goToMobileWebview","hash","api","setWgetEnable","wget","resolveApiBaseInDev","base","decodeURIComponent","u","URL","origin","getAxiosInstance","defaults","baseURL","bundle_id","loginWithApple2","ap_uid","ap_token","auto_create","login_type","channel","channel_values","device","loginWithFacebook2","fb_uid","fb_token","loginWithFacebook","loginWithApple","getServTs","resolver","timecb","timestamp","addUserScript","revokeBalootCancel","event_name","str_param4","str_param1","int_param1","int_param2","int_param3","int_param4","use","Vuex","Store","googleLoad","countryFlag","mutations","actions","targetVersoin","scheme","getPlatform","isAndroid","auth_type","isDiwania","recall_value","sleep","replace","getDeviceToken","registerBridgeCbId","res","r1","token","callback_id","post","getAuthType","is_diwania","user_id","nickname","auth_access","URLSearchParams","keys","forEach","append","loginWithGoogle","id_token","loginWithMobile","setHeader","getMobileCode","device_token","from_app_uuid","from_app_package_name","wget3","queryBindedAccounts","param","createBindedAccount","selectBindedAccount","App","BaseComponent","h","BaseView","__decorate","Component","components","sdkLoaded","diwania","min","isOverWH","min2","weyay","appname1","appname2","appleLoginVisual","onPressApple","onPressGoogle","onPressFacebook","onPhonePress","domProps","policy","noDiwania","noAndroidLudo","toDiwania","loading","CreateModal","isRelease","resolveApiBase","indexOf","codeClient","use_new_google","mounted","getItem","is_first_time","userType","h5_loginpage","h5_loginpage_loading_finish","getLoadDuration","$router","src1","src2","appname","terms_of_service","privacy_policy","newValue","oldValue","attachSignin","innerWidth","innerHeight","h5_loginpage_elementclick","signIn","authorization","user_login_report_failed","error_code","error_content","is_sawaapp_authorize","h5_type","h5_scene","apple_uid","apple_token","doLoginApple","requestCode","FB","login","response","authResponse","userID","accessToken","doLoginFacebook","showCreateModal","success","doLoginGoogle","is_token","accounts","oauth2","initCodeClient","ux_mode","callback","credential","initialize","renderButton","theme","size","width","click_listener","VueRouter","routes","path","Home","setTime","time","appType","sawa","updateTsDelta","createGoogleSDKScript","loadGoogleApi","productionTip","Loading","initLudo","exec","toLowerCase","setLang","lang","calculateWindow4","banScale","initDomainDial","DayJs","setOffset","TimeType","reportSensors","Main","$mount","touches","lastTouchEnd","now","Date","require","title","setTitle","loadingDirective","inserted","binding","update","registryToast","$toast","isBalootToLudo","descV","onPressPrivacy","onPressAgreement","language","sheet","lan","mapped","textWithRTL","textWithLTR","expr","ret","printf","item","formatCount","count","product","toFixed","resizeImage","qiniuURL","sslFix","a","b","LangMixin","initWebSa","serv_url","sa_sdk_js","initWebSensors","SensorSDKName","TEST","KSA","reportWebSa","jsonObj","sawa_device","$app_id","$app_version","assign","reportWebSensors","reportSa","map","k","schema","reportLoginClick","reportLoginPage","reportLoginFail","reportRevokeShow","baloot_uid","Baloot_uid","reportRevokeClick","bindEvent","detail","reportMsg","isRegister","toCreate","prod","querySelector","scrollingElement","style","cssText","Math","abs","closeCb","openTimeTs","diff","subtitle","content","confirmText","onConfirm","cancelText","confirmCallback","close","cancelCallback","$parent","setUrlParams","_accountResp$extra","extra","baloot_cancel","showDialog","_accountResp$extra2","Dialog","handleApiResult","banTo","formatTs","showDialogTest","tsx","fetchUserInfoAsync","done","userInfo","open_id","getUserInfo","initPay","isAudienceClient","userLogin","toLiveRoom","roomId","from","pop","ops","goToUser","launchUserPage","isSupport","sdk_support_flag","isInApp","awaitKinoJsApi","run","jumpUserDialog","action","jumpUserProfile","jumpOfficialChannel","isIOS","isSawa","isLive","ready","initSawaSDK","__actions__","__id__","getBalootHeadersAsync","BridgeMixin","actStartTs","actEndTs","setReady","setActInfo","defaultVal","useMockAuto","conf","useLog","useMock","isDebug","showAppBar","clientTs","tsDelta","sysTs","cliTs","floor","mixin","directive","Login1Comp","convertTsx","Login","Login2Comp","Login2","LoginComp","constructor","onScroll","throttle","$refs","scroller","bridge","onClickApp","syncServTsIfNeed","servTs","styles","createLocalStorageManager","reactiveStorageMap","set","useLocalStorage","STORAGE_KEY_PREFIX","LOCAL_STORAGE_KEY","上次使用过的API_BASE","上次使用过的神策域名","备用apilist","备用神策list","LOG_TAG","DialType","getArgs","setStorage","getStorage","setApiBaseUrl","axios","getFirebaseConfig","dial_timeout","dailUrls","urls","API","dialGoPk","神策","dialSensors","race","u2","protocol","dial","ls","sa_url","dial2","go_pk","se","getConfigAndDial","initBloot","calculateWindow2","loadVConsoleIfNeed","googleSDKReadyed","onTraceGoogleClick","isFirst","onGoogleSDKReady","reportWebSaEvent","onPressFacebookTest","Loading2","initDiwania","initBtn","js","fjs","insertBefore","fbAsyncInit","pkg","xfbml","AppEvents","logPageView","ErrorReason","getAppType","app_type","web_app_id","web_app_version","reportJustOutside","testHosts","some","wpost3","qs","platform","test","calculateWindow","screen","height","scale","meta","cb1","cb2","openid","times","waitForWindow","webkit","messageHandlers","appCall","fn","threshhold","last","timer","args","comp","convert","VConsole","ts","YYYY","MM","DD","hh","mm","ss","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","searchParams","search","delete","str","newUrl","pathname","resolveClientId","ksa","getClientTs","performance","setHashParams","hashPath","hashQuery","newHash","history","replaceState","ms"],"mappings":"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","file":"js/app.90f0d9ff.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"chunk-079a8829\":\"ee250212\",\"chunk-2eed1d29\":\"ab68db88\",\"chunk-5146dc6e\":\"d01d4460\",\"about\":\"5ba39a15\",\"chunk-6b347d05\":\"495f52cc\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2eed1d29\":1,\"about\":1,\"chunk-6b347d05\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"chunk-079a8829\":\"31d6cfe0\",\"chunk-2eed1d29\":\"169f0046\",\"chunk-5146dc6e\":\"31d6cfe0\",\"about\":\"8514e37c\",\"chunk-6b347d05\":\"762af0c7\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=style&index=0&id=23d378f6&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"create-modal-c\"},[_c('div',{staticClass:\"title\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('创建账号')))]),_c('div',{staticClass:\"desc\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('你还没有Sawa账号，是否马上创建账号并登录Diwania？')))]),_c('div',{staticClass:\"btn-list\"},[_c('div',{staticClass:\"btn confirm\",attrs:{\"dir\":\"auto\"},on:{\"click\":_setup.click}},[_vm._v(_vm._s(_setup._T('确定')))]),_c('div',{staticClass:\"btn cancel\",attrs:{\"dir\":\"auto\"},on:{\"click\":_setup.cancel}},[_vm._v(_vm._s(_setup._T('取消')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { Events, reportEvent } from '@d/event'\nimport { _T } from '@badam/common-utils'\nimport { onMounted } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    cb: null,\n    source: null,\n    onCancel: null\n  },\n  setup(__props: any) {\n\nconst props = __props as { cb: any; source: string; onCancel: any };\n\n\n\nfunction click() {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_click, {\n    source: props.source,\n    element_name: '确定',\n  })\n  props.cb()\n  props.onCancel()\n}\n\nfunction cancel() {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_click, {\n    source: props.source,\n    element_name: '取消',\n  })\n  props.onCancel()\n}\n\nonMounted(() => {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_show, {\n    source: props.source,\n  })\n})\n\nreturn { __sfc: true,props, click, cancel, _T }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&setup=true\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&setup=true\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=74b39328&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=74b39328&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74b39328\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=73de1572&prod&lang=css\"","import { getArgsFromUrlHash, getPlatform, matchExpr } from '@badam/common-utils'\n\nexport enum ProductType {\n  Are = 'are',\n  Ksa = 'ksa',\n  Ludo = 'ludo',\n  Diwania = 'diwania',\n  Baloot = 'baloot',\n  Weyay = 'weyay',\n  WeyayPlay = 'weyayplay',\n  // VIDEO = \"video\",\n}\n\nconst bundleid = getArgsFromUrlHash('bundle_id') || getArgsFromUrlHash('bundleid')\n\nexport function getProductType() {\n  const v = matchExpr(\n    bundleid,\n    [\n      ['com.sawa.ksa', ProductType.Ksa], // ios\n      ['com.badambiz.pk.saudi', ProductType.Ksa], // 安卓\n      ['com.badambiz.mideastsau', ProductType.Baloot], // ios\n      ['hk.longchiu.dwn', ProductType.Diwania], // ios\n      ['com.sawa.weyay', ProductType.Weyay], // ios\n      ['com.sawa.weyayjackaroo', ProductType.WeyayPlay], // ios\n      ['com.sawa.ludo', ProductType.Ludo], // ios\n      ['com.badambiz.pk.saudi.jackaroo', ProductType.Ludo], // 安卓正式\n      ['com.badambiz.pk.saudi.jackaroo.dev', ProductType.Ludo], // 安卓测试\n    ],\n    () => ProductType.Ksa\n  )\n  return v\n}\n\nexport function isProductType(productType: ProductType) {\n  return getProductType() === productType\n}\n\nexport function isProductAndroidLudo() {\n  return ['com.badambiz.pk.saudi.jackaroo', 'com.badambiz.pk.saudi.jackaroo.dev'].includes(bundleid)\n}\n\nexport function getDefaultAreaCode() {\n  if (isProductType(ProductType.Weyay) || isProductType(ProductType.WeyayPlay)) {\n    return '964'\n  }\n  return '966'\n}\n\nexport function getDefaultAreaFlag() {\n  if (isProductType(ProductType.Weyay) || isProductType(ProductType.WeyayPlay)) {\n    return 'IQ'\n  }\n  return 'SA'\n}\n\nexport async function addVConsolePlugin() {\n  if (process.env.VUE_APP_ENV === 'production') {\n    return\n  }\n  try {\n    // 创建 script 标签\n    const script = document.createElement('script')\n    script.src = 'https://unpkg.com/vconsole@latest/dist/vconsole.min.js'\n    script.async = true\n    // 返回 Promise 来处理脚本加载\n    await new Promise((resolve, reject) => {\n      script.onload = () => {\n        const vConsole = new (window as any).VConsole()\n        resolve(null)\n      }\n      script.onerror = () => {\n        console.error('Failed to load VConsole script')\n        reject(new Error('Failed to load VConsole script'))\n      }\n      document.head.appendChild(script)\n    })\n    // 脚本加载完成后执行 log 函数\n    if (typeof (window as any).VConsole !== 'undefined') {\n      const vConsole = new (window as any).VConsole()\n      console.log('VConsole initialized and ready to use!')\n    } else {\n      console.warn('VConsole is not available after script load')\n    }\n  } catch (error) {\n    console.error('Error in debug function:', error)\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=66e0ef9a&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.showWrap)?_c('div',{staticClass:\"toast wrap\",class:_vm.showContent ? 'fadein' : 'fadeout',attrs:{\"dir\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\n\nconst Toast = Vue.extend({\n  props: {\n    text: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      showWrap: true, // 是否显示组件\n      showContent: true, // 作用:在隐藏组件之前,显示隐藏动画\n    }\n  },\n})\n\nexport const showToast = (text: string, duration = 4000) => {\n  const toast = new Toast({ el: document.createElement('div') }) as any\n  const el = toast.$el\n  toast.text = text\n  document.body.appendChild(el)\n  // 提前 250ms 执行淡出动画\n  setTimeout(() => {\n    toast.showContent = false\n  }, duration - 1250)\n  // 过了 duration 时间后隐藏整个组件\n  setTimeout(() => {\n    toast.showWrap = false\n  }, duration)\n}\n\nexport function registryToast() {\n  Vue.prototype.$toast = showToast\n  ;(window as any).toast = showToast\n}\n\nexport default Toast\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./toast.vue?vue&type=template&id=23d378f6&scoped=true\"\nimport script from \"./toast.vue?vue&type=script&lang=ts\"\nexport * from \"./toast.vue?vue&type=script&lang=ts\"\nimport style0 from \"./toast.vue?vue&type=style&index=0&id=23d378f6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23d378f6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&id=e6e68c16&prod&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/loading.3bfcb844.gif\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=66e0ef9a&prod&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=09fdd8f2&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.show)?_c('div',{staticClass:\"common-modal\",class:_vm.className,on:{\"touchstart\":function($event){if($event.target !== $event.currentTarget)return null;$event.preventDefault();$event.stopPropagation();return _vm.onPressMask.apply(null, arguments)},\"touchmove\":function($event){if($event.target !== $event.currentTarget)return null;$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"common-modal-slot swash\",class:{\n      swashIn: _vm.isIn,\n      swashOut: !_vm.isIn,\n    },on:{\"touchmove\":function($event){$event.stopPropagation();}}},[_c(_vm.curComp,_vm._b({ref:\"modal\",tag:\"component\",attrs:{\"params\":_vm.params,\"cancel\":_vm.onCancel,\"on-cancel\":_vm.onCancel}},'component',_vm.params,false)),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"cancel\",on:{\"click\":_vm.onCancel}}),(_vm.useCloseBtn)?_c('div',{staticClass:\"close-btn\",on:{\"click\":_vm.onPressClose}}):_vm._e()],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue, { Component } from 'vue'\nimport store from '@/store/index'\n// import { setIsOpenModal } from '@/store'\n\nexport const lockScreen = () => {\n  const obj = (window as any).JavaBridgeObj\n  if (obj && obj.enableRefresh) {\n    obj.enableRefresh(false)\n  }\n\n  const scrollEle = document.documentElement\n  const pageEle = document.getElementById('app')!\n  const scrollTop = scrollEle.scrollTop || window.pageYOffset\n  // scrollEle.scrollTop = 0\n  // // scrollEle.style.cssText += `position:fixed;top:${-scrollTop}px`\n  // scrollEle.style.overflow = 'hidden'\n  // document.body.style.overflow = 'hidden'\n  // if (scrollTop > 0 && pageEle && pageEle.style) {\n  //   pageEle.style.marginTop = `-${scrollTop}px`\n  // }\n\n  return scrollTop\n}\n\nexport const unlockScreen = (top: number) => {\n  if ((window as any).JavaBridgeObj) {\n    const obj = (window as any).JavaBridgeObj\n    if (obj && obj.enableRefresh) {\n      obj.enableRefresh(true)\n    }\n  }\n\n  // const scrollEle = document.documentElement\n  // const pageEle = document.getElementById('app')!\n\n  // const toptop = Math.abs(Number(pageEle.style.marginTop.replace('px', '')))\n\n  // // const scrollTop = parseInt(scrollEle.style.top, 10) || scrollEle.scrollTop\n  // // scrollEle.style.cssText += 'position:initial;top:0;'\n  // // scrollEle.scrollTop = Math.abs(scrollTop)\n  // scrollEle.style.overflow = 'initial'\n  // // scrollEle.style.top = '0px'\n  // document.body.style.overflow = 'initial'\n  // pageEle.style.marginTop = '0px'\n  // scrollEle.scrollTop = toptop\n  // window.scrollTo(0, toptop)\n}\n\nconst Modal = Vue.extend({\n  data() {\n    return {\n      show: false,\n      curComp: null as unknown as Component,\n      params: {} as any,\n      className: '',\n      isTop: false,\n      isIn: true,\n      cancelable: true,\n      useCloseBtn: true,\n      top: 0,\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      beforePressMask: () => {},\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      beforePressClose: () => {},\n    }\n  },\n  store,\n  methods: {\n    setBeforePressMask(cb?: () => any) {\n      if (cb) {\n        this.beforePressMask = cb\n      }\n    },\n    onPressMaskBefore() {\n      try {\n        this.beforePressMask()\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    onPressMask(e: any) {\n      setTimeout(() => {\n        this.onPressMaskBefore()\n        if (this.cancelable) {\n          this.onCancel()\n        } else {\n          e.preventDefault()\n        }\n      }, 50)\n    },\n\n    setBeforePressClose(cb?: () => any) {\n      if (cb) {\n        this.beforePressClose = cb\n      }\n    },\n    onPressCloseBefore() {\n      try {\n        this.beforePressClose()\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    onPressClose() {\n      this.onPressCloseBefore()\n      this.onClose()\n    },\n    onCancel() {\n      this.onClose()\n    },\n    onClose() {\n      this.isIn = false\n      setTimeout(() => {\n        this.show = false\n      }, 100)\n    },\n    setBackBtn(isShow: boolean) {\n      if (!(window as any).JavaBridgeObj) {\n        return\n      }\n      ;(window as any).JavaBridgeObj.showBackBtn(\n        JSON.stringify({\n          bl: isShow,\n        })\n      )\n    },\n    showRefreshControllIfNeed: (isTop: any) => {\n      if ((window as any).kinoJsApi && (window as any).kinoJsApi.setRefreshEnable) {\n        ;(window as any).kinoJsApi.setRefreshEnable(isTop)\n      }\n      if ((window as any).JavaBridgeObj && (window as any).JavaBridgeObj.enableRefresh) {\n        ;(window as any).JavaBridgeObj.enableRefresh(isTop)\n      }\n    },\n  },\n  watch: {\n    show(n) {\n      if (n) {\n        // setRefreshEnable(false)\n        // store.state.modalCount += 1\n        // this.setBackBtn(false)\n        // store.state.popupHide = false\n        lockScreen()\n        // const nn = lockScreen()\n        // if (nn > 0) {\n        //   this.top = nn\n        // }\n        // this.top = lockScreen()\n        // setIsOpenModal(true)\n      } else {\n        // setRefreshEnable(true)\n        // store.state.modalCount -= 1\n        // store.state.popupHide = true\n        // if (store.state.modalCount === 0) {\n        // this.setBackBtn(true)\n        unlockScreen(this.top)\n        // }\n        this.$emit('close')\n        // setIsOpenModal(false)\n      }\n    },\n  },\n})\n\nconst showModal = (\n  component: Component,\n  params: any,\n  cancelable = true,\n  useCloseBtn = true,\n  onPressMask?: () => any,\n  onPressClose?: () => any\n) => {\n  const modal = new Modal({ el: document.createElement('div') })\n  const el = modal.$el\n  modal.curComp = component\n  modal.params = params\n  modal.cancelable = cancelable\n  modal.useCloseBtn = useCloseBtn\n  modal.className = params.class || ''\n  document.body.appendChild(el)\n  modal.show = true\n  // 点击遮罩层关闭时触发的事件\n  modal.setBeforePressMask(onPressMask)\n  modal.setBeforePressClose(onPressClose)\n  return modal\n}\n\nexport { showModal }\n\nexport default Modal\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./modal.vue?vue&type=template&id=e6e68c16&scoped=true\"\nimport script from \"./modal.vue?vue&type=script&lang=ts\"\nexport * from \"./modal.vue?vue&type=script&lang=ts\"\nimport style0 from \"./modal.vue?vue&type=style&index=0&id=e6e68c16&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6e68c16\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&id=07b1f0d8&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&id=7fbe32ac&prod&scoped=true&lang=css\"","/* eslint-disable import/no-cycle */\nimport { showToast } from '@d/components/toast/toast.vue'\nimport { setUrlParams2 } from '@@/utils/func'\nimport { _T, getArgsFromUrl, matchExpr, sprintf } from '@badam/common-utils'\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport { reportEvent } from '@@/utils/event'\nimport { fb } from '../../fb'\n\ndayjs.extend(utc)\n\n/* eslint-disable no-restricted-globals */\nexport function getMp4url(url: string) {\n  const DOMAIN = window.location.hostname\n  if (DOMAIN.indexOf('cdn-') === -1) {\n    return url.replace('cdn-', '')\n  }\n  return url\n}\n\n// todo\nexport function initAppleLogin() {\n  AppleID.auth.init({\n    clientId: client_id.apple,\n    scope: 'name email',\n    redirectURI: location.href.split('#')[0].split('?')[0],\n    state: '[STATE]',\n    usePopup: true,\n  })\n}\n\nfunction router(url: string) {\n  if (window.JavaBridgeObj && (window.JavaBridgeObj as any).router) {\n    ;(window.JavaBridgeObj as any).router(url)\n  } else {\n    window.location.href = url\n  }\n}\n\nexport function refreshAccount(accountResp: any, source: string) {\n  const { identities, user_info } = accountResp.data\n\n  if (user_info) {\n    const { session_key, uid, icon_verify } = user_info\n    const o = { session_key, uid, icon_verify }\n    const v = encodeURIComponent(JSON.stringify(o))\n    console.warn('refreshAccount', user_info, v)\n    if (getArgsFromUrl('is_debug') === '2') return\n    console.warn('[router]', `sawavideo://sawaksa_login/?sawaksa_acount=${v}&source=${source}`)\n    router(`sawavideo://sawaksa_login/?sawaksa_acount=${v}&source=${source}`)\n  }\n}\n\nexport function goAccountsSelectingPage(\n  identitiesResp: any,\n  mobile: string,\n  country_code: string,\n  source: string\n) {\n  const { login_key } = identitiesResp.data || {}\n  if (login_key) {\n    if (getArgsFromUrl('is_debug') === '2') return\n    router(\n      `sawavideo://sawaksa_accounts/?login_key=${login_key}&mobile=${mobile}&country_code=${country_code}&source=${source}&auth_type=3`\n    )\n  }\n}\n\nexport function report(eventName: string, fields = {}) {\n  const json = fields\n  // @Td remove\n  console.warn('[report]', eventName, fields)\n  router(\n    `sawavideo://sawaksa_login_event/?eventName=${eventName}&jsonData=${btoa(\n      encodeURIComponent(JSON.stringify(json))\n    )}`\n  )\n}\n\nexport function unregisterRemind(data: any) {\n  const obj = { ...(data || {}), log: undefined }\n  const host = 'sawavideo'\n  if (getArgsFromUrl('is_debug') === '2') {\n    const link = `${host}://unregister_remind/?data=${encodeURIComponent(JSON.stringify(obj))}`\n    console.warn('[unregister_remind]', link)\n    return\n  }\n  router(`${host}://unregister_remind/?data=${encodeURIComponent(JSON.stringify(obj))}`)\n}\n\nexport function refreshDeviceToken(\n  mobile: number | null | string,\n  country: string | null,\n  flag: string | null\n) {\n  if (mobile) localStorage.setItem('ludo_refresh_device_token_mobile', `${mobile}` || '')\n  if (country) localStorage.setItem('ludo_refresh_device_token_country', `${country}` || '')\n  if (flag) localStorage.setItem('ludo_refresh_device_token_flag', `${flag}` || '')\n\n  const host = 'sawavideo'\n  let href = location.href\n  href = setUrlParams2('is_refresh', 1)\n  href = `${host}://refresh_device_token/?url=${encodeURIComponent(href)}`\n  console.warn('refreshDeviceToken', href)\n  router(href)\n}\n\nexport function getSub(access_token: string) {\n  const arr = access_token.split('.')\n  if (arr.length < 3) {\n    return ''\n  }\n  try {\n    const obj = arr[1]\n    const subs = atob(obj)\n    const o = JSON.parse(subs)\n    const sub = o.sub\n    return sub\n  } catch (e) {\n    return ''\n  }\n}\n\nexport function showBanToast(d: string) {\n  const dd = Number(d)\n  if (dd) {\n    if (dd === -1) {\n      showToast(_T('因涉嫌违规，你的账号被永久封禁。你无法再登录该账号。'))\n    } else {\n      const target = dayjs(dd * 1000)\n        .utcOffset(3)\n        .format('YYYY-MM-DD')\n      showToast(\n        sprintf(_T('因涉嫌违规，你的账号被封禁至{date}，这段时间内你将无法登陆该账号。'), {\n          date: target,\n        })\n      )\n    }\n  }\n}\n\nexport function versionToNumber(versionString: string) {\n  const parts = versionString.split('.')\n\n  // 确保至少有三位\n  while (parts.length < 3) {\n    parts.push('0')\n  }\n\n  let result = ''\n  for (let i = 0; i < 3; i += 1) {\n    let currentPart = parts[i]\n\n    if (i > 0 && currentPart.length < 2) {\n      currentPart = currentPart.padStart(2, '0')\n    }\n\n    result += currentPart\n  }\n\n  return parseInt(result, 10)\n}\n\nexport function getAppClientVersion() {\n  const version_code = getArgsFromUrl('version_code')\n  if (!version_code) return ''\n  // 处理参数有多个 version_code 的情况\n  let vc = version_code\n  if (Object.prototype.toString.call(version_code) === `[object ${'Array'}]`) {\n    vc = version_code[0]\n  }\n  return versionToNumber(vc).toString()\n}\n\n/// darkmode\n// dark mode\nfunction applyColorTheme(darkMode: boolean) {\n  if (darkMode) {\n    document.getElementsByTagName('html')[0].classList.add('-dark')\n  } else {\n    document.getElementsByTagName('html')[0].classList.remove('-dark')\n  }\n}\n\nfunction isSafariDarkModeSupport() {\n  const mode = getArgsFromUrl('mode')\n  if (mode) {\n    return true\n  }\n  return false\n}\n\nfunction enableDarkModeiOS() {\n  const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n  darkModeMediaQuery.addEventListener('change', (e) => {\n    if (e.matches) {\n      applyColorTheme(true)\n    } else {\n      applyColorTheme(false)\n    }\n  })\n  if (darkModeMediaQuery.matches) {\n    applyColorTheme(true)\n  } else {\n    applyColorTheme(false)\n  }\n}\n\nexport async function initDarkMode() {\n  if (!isSafariDarkModeSupport()) return\n  const mode = String(getArgsFromUrl('mode'))\n  matchExpr(mode, [\n    ['0', () => applyColorTheme(false)],\n    ['1', () => applyColorTheme(true)],\n    ['2', () => enableDarkModeiOS()],\n  ])\n}\nexport const reportError = (eventName: string, err: Error, vm: string, info: string) => {\n  const stack = err.stack?.split('\\n').slice(0, 6).join('\\n')\n  const dict: EventDict = {\n    str_param2: JSON.stringify({\n      vm,\n      info,\n    }),\n    str_param3: stack,\n  }\n  reportEvent(eventName, dict)\n}\n;(window as any).applyColorTheme = applyColorTheme\n\nexport function onDocumentClick(selector: string, fn: any) {\n  document.addEventListener('click', (e) => {\n    let el = e.target as any\n    while (!el.matches(selector)) {\n      console.warn('[target]', el)\n      if (el === document.body) {\n        el = null\n        break\n      }\n      el = el.parentNode\n    }\n    if (el.matches(selector)) {\n      fn.call(el, e, el)\n    }\n  })\n}\n\nexport const CLIENT_ID = '532022495714-s5hikassju5bdbsmsfc277pt4ro2ff9l.apps.googleusercontent.com'\n\nexport const client_id = {\n  google: CLIENT_ID,\n  apple: 'com.sawa.ksah5',\n  facebook: () => fb.appid,\n}\n","/* eslint-disable import/no-cycle */\n/* eslint-disable no-restricted-globals */\n/* eslint-disable camelcase */\nimport Vue from 'vue'\nimport { addEvent } from '@@/api'\nimport { getArgsFromUrl, getOpenid, getSessionKey } from './func'\n\nexport const wrapEvent = async (eventName: string, eventDict: EventDict): Promise<BadamEvent> => ({\n  eventName,\n  uuid: '-1',\n  ua: navigator.userAgent,\n  op: (await getOpenid()) || null,\n  tk: getSessionKey() || null,\n  href: location.href,\n  uid: null,\n  rid: getArgsFromUrl('room_id') || null,\n  version: process.env.VUE_APP_VERSION,\n  proj: process.env.VUE_APP_PROJ,\n  dict: eventDict,\n})\n\nexport const reportEvent = async (eventName: string, eventDict: EventDict) => {\n  const r = await wrapEvent(eventName, eventDict)\n  addEvent(r)\n}\n\nexport const reportError = (eventName: string, err: Error, vm: string, info: string) => {\n  const stack = err.stack?.split('\\n').slice(0, 6).join('\\n')\n  const dict: EventDict = {\n    str_param2: JSON.stringify({\n      vm,\n      info,\n    }),\n    str_param3: stack,\n  }\n  reportEvent(eventName, dict)\n}\n\nexport const initErrorHandler = () => {\n  Vue.config.errorHandler = function onError(err, vm, info) {\n    reportError('web_err', err, vm.$el.id || vm.$el.className, info)\n  }\n\n  // message：错误信息（字符串）。\n  // source：发生错误的脚本URL（字符串）\n  // lineno：发生错误的行号（数字）\n  // colno：发生错误的列号（数字）\n  // error：Error对象（对象）\n  window.onerror = function onerror(message, source, lineno, colno, error) {\n    reportError(\n      'web_err',\n      { message: message.toString(), name: error?.name || '', stack: error?.stack || '' },\n      '',\n      'window.onerror'\n    )\n  }\n\n  window.addEventListener(\n    'error',\n    (error) => {\n      reportError(\n        'web_err',\n        {\n          message: error.message || '',\n          name: error.filename || '',\n          stack: error.message || '',\n        },\n        '',\n        'error'\n      )\n    },\n    true\n  )\n\n  window.addEventListener('unhandledrejection', (e) => {\n    // e.preventDefault()\n    reportError(\n      'web_err',\n      { message: e.reason.message || '', name: e.reason.name || '', stack: e.reason.stack || '' },\n      '',\n      'unhandledrejection'\n    )\n  })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&id=6ca71a78&prod&scoped=true&lang=css\"","import { FirebaseApp, initializeApp } from 'firebase/app'\nimport { Analytics, getAnalytics, logEvent } from 'firebase/analytics'\nimport { getPerformance, trace } from 'firebase/performance'\nimport {\n  RemoteConfig,\n  Value,\n  getRemoteConfig,\n  getValue,\n  fetchAndActivate,\n} from 'firebase/remote-config'\n\nclass FirebaseManager {\n  static instance: FirebaseManager\n\n  private app: FirebaseApp | undefined\n\n  private analytics: Analytics | undefined\n\n  private remoteConfig: RemoteConfig | undefined\n\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new FirebaseManager()\n    }\n    return this.instance\n  }\n\n  init() {\n    if ((process.env as any).VUE_APP_FLAVOR === 'are') {\n      // return\n    }\n    let firebaseConfig\n    if ((process.env as any).VUE_APP_ENV === 'development') {\n      firebaseConfig = {\n        apiKey: 'AIzaSyBlR0QK--SjqMqihBd03ARBzfuZ3x1euzo',\n        authDomain: 'badamoyundixim.firebaseapp.com',\n        databaseURL: 'https://badamoyundixim.firebaseio.com',\n        projectId: 'badamoyundixim',\n        storageBucket: 'badamoyundixim.appspot.com',\n        messagingSenderId: '532022495714',\n        appId: '1:532022495714:web:a92f2dda69b205e99fd1bb',\n        measurementId: 'G-SHYPRRS1YC',\n      }\n    } else {\n      firebaseConfig = {\n        apiKey: 'AIzaSyBlR0QK--SjqMqihBd03ARBzfuZ3x1euzo',\n        authDomain: 'badamoyundixim.firebaseapp.com',\n        databaseURL: 'https://badamoyundixim.firebaseio.com',\n        projectId: 'badamoyundixim',\n        storageBucket: 'badamoyundixim.appspot.com',\n        messagingSenderId: '532022495714',\n        appId: '1:532022495714:web:2a3620b2f1f41d319fd1bb',\n        measurementId: 'G-8L1XP304KR',\n      }\n    }\n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig)\n    this.app = app\n    this.analytics = getAnalytics(app)\n    this.remoteConfig = getRemoteConfig(app)\n    const perf = getPerformance(app)\n    ;(window as any).firebasePerformanceTrace = function t(p: any) {\n      return trace(perf, p)\n    }\n    ;(window as any).reportToFirebase = (name: string, data: any) => {\n      //\n    }\n  }\n\n  async reportEvent(event: string, o: any) {\n    try {\n      if (this.analytics) logEvent(this.analytics as Analytics, event, o)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  async getValueFromConfig(key: string) {\n    if (this.remoteConfig) {\n      const bl = await fetchAndActivate(this.remoteConfig)\n      //   if (bl) {\n      const val = getValue(this.remoteConfig, key)\n      return val.asString()\n      //   }\n    }\n    return null\n  }\n}\n\nexport default FirebaseManager\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"i_ico_baloot\":\"app-module_i_ico_baloot_1-tVt\",\"i_ico_close\":\"app-module_i_ico_close_3khGG\",\"i_ico_facebook\":\"app-module_i_ico_facebook_28AdY\",\"app\":\"app-module_app_3NFt4\",\"test2\":\"app-module_test2_32USL\"};","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=39f5e93e&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mask\",attrs:{\"id\":\"loading\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._m(0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"loading-c\"},[_c('div',{staticClass:\"loading-2\"})])\n}]\n\nexport { render, staticRenderFns }","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  props: ['onRef', 'initValues'],\n  data() {\n    return {\n      show: false,\n    }\n  },\n  created() {\n    if (this.onRef) {\n      this.onRef(this)\n    }\n    this.change(this.initValues)\n  },\n  watch: {\n    initValues: {\n      handler(newv, oldv) {\n        this.change(newv)\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    change(value: any) {\n      for (const i in value) {\n        ;(this as any)[i] = value[i]\n      }\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./loading.vue?vue&type=template&id=7fbe32ac&scoped=true\"\nimport script from \"./loading.vue?vue&type=script&lang=ts\"\nexport * from \"./loading.vue?vue&type=script&lang=ts\"\nimport style0 from \"./loading.vue?vue&type=style&index=0&id=7fbe32ac&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fbe32ac\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&id=c7fe562c&prod&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=style&index=0&id=fbc4ce7a&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"create-modal-c\",class:[_setup.appStyle]},[_c('div',{staticClass:\"title\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('创建账号')))]),_c('div',{staticClass:\"desc\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('账号不存在，是否马上创建账号并登录？')))]),_c('div',{staticClass:\"btn-list\"},[_c('div',{staticClass:\"btn confirm\",attrs:{\"dir\":\"auto\"},on:{\"click\":_setup.click}},[_vm._v(_vm._s(_setup._T('确定')))]),_c('div',{staticClass:\"btn cancel\",attrs:{\"dir\":\"auto\"},on:{\"click\":_setup.cancel}},[_vm._v(_vm._s(_setup._T('取消')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { Events, reportEvent } from '@/event'\nimport { _T } from '@badam/common-utils'\nimport { computed, onMounted } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    cb: null,\n    source: null,\n    onCancel: null\n  },\n  setup(__props: any) {\n\nconst props = __props as { cb: any; source: string; onCancel: any };\n\n\nconst isWeyay = process.env.VUE_APP_FLAVOR === 'weyay'\n\nconst appStyle = computed(() => {\n  if (isWeyay) {\n    return '-weyay'\n  }\n  return ''\n})\n\nfunction click() {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_click, {\n    source: props.source,\n    element_name: '确定',\n  })\n  props.cb()\n  props.onCancel()\n}\n\nfunction cancel() {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_click, {\n    source: props.source,\n    element_name: '取消',\n  })\n  props.onCancel()\n}\n\nonMounted(() => {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_show, {\n    source: props.source,\n  })\n})\n\nreturn { __sfc: true,props, isWeyay, appStyle, click, cancel, _T }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&setup=true\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&setup=true\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=39f5e93e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=39f5e93e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39f5e93e\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-param-reassign */\n/* eslint-disable no-restricted-globals */\n\nimport { getArgsFromUrl } from '@badam/common-utils'\nimport { client_id } from '.'\n\n/* eslint-disable import/prefer-default-export */\nconst targetVersoin = 10291\n\nfunction versionToNumber(versionString: string) {\n  const parts = versionString.split('.')\n\n  // 确保至少有三位\n  while (parts.length < 3) {\n    parts.push('0')\n  }\n\n  let result = ''\n  for (let i = 0; i < 3; i += 1) {\n    let currentPart = parts[i]\n\n    if (i > 0 && currentPart.length < 2) {\n      currentPart = currentPart.padStart(2, '0')\n    }\n\n    result += currentPart\n  }\n\n  return parseInt(result, 10)\n}\n\nexport function isTargetVersion() {\n  return true\n}\n\ntype Params = {\n  login_type: 'facebook' | 'google' | 'apple'\n  user_id?: string // facebook、apple必填\n  access_token?: string // facebook、apple必填\n  id_token?: string // google必填\n  auth_type: string // 客户端邀请传string\n  appid?: string\n}\n\nexport function callbackToClient(p: Params) {\n  // if (p.login_type === 'apple') {\n  //   p.appid = client_id.apple\n  // } else if (p.login_type === 'google') {\n  //   p.appid = client_id.google\n  // } else if (p.login_type === 'facebook') {\n  //   p.appid = client_id.facebook\n  // }\n  const ticket = encodeURIComponent(JSON.stringify(p))\n  location.href = `sawavideo://sawaksa_login_key?ticket=${ticket}`\n}\n\nexport function goToMobileWebview() {\n  location.hash = 'mobile'\n  try {\n    console.warn(\n      '[jump]]',\n      `sawavideo://sawaksa_login_mobile?url=${encodeURIComponent(location.href)}`\n    )\n    location.href = `sawavideo://sawaksa_login_mobile?url=${encodeURIComponent(location.href)}`\n  } catch (e) {\n    //\n  }\n  location.hash = ''\n}\n","/* eslint-disable import/no-cycle */\n/* eslint-disable camelcase */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable max-len */\nimport { api, ApiResult } from '@badam/common-utils'\nimport { addUserScript, client_id, getArgsFromUrl } from '@@/utils/func'\n// import { ActivityRankingListRspMsg, CommonRankingListResult } from './interface'\n\napi.setWgetEnable(false)\n\nconst wget = api.get.bind(api)\nconst get = api.get.bind(api)\n\nfunction resolveApiBaseInDev() {\n  const base = getArgsFromUrl('api_base')\n  if (!base) return 'https://arab-pk-release.badambiz.com/'\n  if (!base.includes('http')) return `https://${base}-pk.badambiz.com/`\n  const v = decodeURIComponent(decodeURIComponent(base))\n  const u = new URL(v).origin\n  return u.slice(-1) === '/' ? u : `${u}/`\n}\n\nconsole.warn('resolveApiBaseInDev', resolveApiBaseInDev())\n\n// api.setPn('com.sawa.ksa')\napi.getAxiosInstance().defaults.baseURL =\n  process.env.VUE_APP_ENV === 'development' || getArgsFromUrl('is_debug')\n    ? resolveApiBaseInDev()\n    : 'https://arab-pk.badambiz.com/'\n\nconst uuid = getArgsFromUrl('uuid') || ''\nconst bundle_id = getArgsFromUrl('bundleid') || getArgsFromUrl('bundle_id') || ''\n\nexport function cancelSawaAccountRevoke(ap_uid: string, ap_token: string, auto_create = false) {\n  return wget(\n    '/api/user_mode/get_login_key/',\n    {\n      login_type: 'third',\n      channel: 'apple_baloot',\n      access_token: ap_uid,\n      channel_values: ap_token,\n      device: 'web',\n      auto_create,\n    },\n    {\n      'x-cli-br': 1,\n      'x-cli-id': uuid,\n      'x-cli-pn': bundle_id,\n    }\n  ) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithApple2(ap_uid: string, ap_token: string, auto_create = false) {\n  return wget(\n    '/api/user_mode/get_login_key/',\n    {\n      login_type: 'third',\n      channel: 'apple_baloot',\n      access_token: ap_uid,\n      channel_values: ap_token,\n      device: 'web',\n      auto_create,\n      appid: client_id.apple,\n    },\n    {\n      'x-cli-br': 1,\n      'x-cli-id': uuid,\n      'x-cli-pn': bundle_id,\n    }\n  ) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithFacebook2(fb_uid: string, fb_token: string, auto_create = false) {\n  return wget(\n    '/api/user_mode/get_login_key/',\n    {\n      login_type: 'third',\n      channel: 'facebook_baloot',\n      access_token: fb_uid,\n      channel_values: fb_token,\n      device: 'web',\n      auto_create,\n      appid: client_id.facebook(),\n    },\n    {\n      'x-cli-br': 1,\n      'x-cli-id': uuid,\n      'x-cli-pn': bundle_id,\n    }\n  ) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithFacebook(fb_uid: string, fb_token: string) {\n  return wget('/api/user/third_login/', {\n    channel: 'facebook_baloot',\n    access_token: fb_uid,\n    channel_values: fb_token,\n  }) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithApple(ap_uid: string, ap_token: string) {\n  return wget('/api/user/third_login/', {\n    channel: 'apple_baloot',\n    access_token: ap_uid,\n    channel_values: ap_token,\n  }) as Promise<[boolean, ApiResult<any>]>\n}\n\n// 获取系统时间戳\nexport const getServTs = () => {\n  let resolver: any\n  ;(window as any).timecb = (params: { timestamp: any }) => {\n    resolver && resolver(params.timestamp)\n  }\n  const promise = new Promise((resolve) => {\n    resolver = resolve\n  })\n  addUserScript('https://zvod.badambiz.com/api/sys/h5_info/?callback=timecb')\n  return promise\n}\n\nexport function revokeBalootCancel(session_key: string) {\n  return wget(\n    '/api/cancel_account/revoke_baloot_cancel/',\n    {\n      session_key,\n      device: 'web',\n    },\n    {\n      'x-cli-br': 1,\n      'x-cli-id': uuid,\n    }\n  ) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport const addEvent = (event: BadamEvent) =>\n  // if (conf.useMock) {\n  //   return mock.commonRank()\n  // }\n  get('/api/sys/add_event/', {\n    event_name: event.eventName,\n    uuid: event.uuid,\n    version: event.version,\n    str_param2: event.dict.str_param2,\n    str_param3: event.dict.str_param3,\n    str_param4: event.dict.str_param4,\n    str_param1: JSON.stringify({\n      uid: event.uid,\n      op: event.op,\n      tk: event.tk,\n      ua: event.ua,\n      proj: event.proj,\n      href: event.href,\n      rid: event.rid,\n    }),\n    int_param1: event.dict.int_param1,\n    int_param2: event.dict.int_param2,\n    int_param3: event.dict.int_param3,\n    int_param4: event.dict.int_param4,\n  }) as unknown as Promise<[boolean, ApiResult<any>]>\n\nexport default {\n  getServTs,\n  addEvent,\n  loginWithFacebook,\n  loginWithApple,\n  loginWithFacebook2,\n  loginWithApple2,\n  revokeBalootCancel,\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    googleLoad: false,\n    data: '',\n    country: '',\n    countryFlag: '',\n  },\n  mutations: {},\n  actions: {},\n  modules: {},\n})\n","/* eslint-disable import/prefer-default-export */\nexport const fb = {\n  appid: '',\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.show)?_c('div',{staticClass:\"common-modal\",class:_vm.className,on:{\"touchstart\":function($event){if($event.target !== $event.currentTarget)return null;$event.preventDefault();$event.stopPropagation();return _vm.onPressMask.apply(null, arguments)},\"touchmove\":function($event){if($event.target !== $event.currentTarget)return null;$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"common-modal-slot swash\",class:{\n      swashIn: _vm.isIn,\n      swashOut: !_vm.isIn,\n    },on:{\"touchmove\":function($event){$event.stopPropagation();}}},[_c(_vm.curComp,_vm._b({ref:\"modal\",tag:\"component\",attrs:{\"params\":_vm.params,\"cancel\":_vm.onCancel,\"on-cancel\":_vm.onCancel}},'component',_vm.params,false)),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"cancel\",on:{\"click\":_vm.onCancel}}),(_vm.useCloseBtn)?_c('div',{staticClass:\"close-btn\",on:{\"click\":_vm.onPressClose}}):_vm._e()],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue, { Component } from 'vue'\nimport store from '@d/store/index'\n// import { setIsOpenModal } from '@d/store'\n\nexport const lockScreen = () => {\n  const obj = (window as any).JavaBridgeObj\n  if (obj && obj.enableRefresh) {\n    obj.enableRefresh(false)\n  }\n\n  const scrollEle = document.documentElement\n  const pageEle = document.getElementById('app')!\n  const scrollTop = scrollEle.scrollTop || window.pageYOffset\n  // scrollEle.scrollTop = 0\n  // // scrollEle.style.cssText += `position:fixed;top:${-scrollTop}px`\n  // scrollEle.style.overflow = 'hidden'\n  // document.body.style.overflow = 'hidden'\n  // if (scrollTop > 0 && pageEle && pageEle.style) {\n  //   pageEle.style.marginTop = `-${scrollTop}px`\n  // }\n\n  return scrollTop\n}\n\nexport const unlockScreen = (top: number) => {\n  if ((window as any).JavaBridgeObj) {\n    const obj = (window as any).JavaBridgeObj\n    if (obj && obj.enableRefresh) {\n      obj.enableRefresh(true)\n    }\n  }\n\n  // const scrollEle = document.documentElement\n  // const pageEle = document.getElementById('app')!\n\n  // const toptop = Math.abs(Number(pageEle.style.marginTop.replace('px', '')))\n\n  // // const scrollTop = parseInt(scrollEle.style.top, 10) || scrollEle.scrollTop\n  // // scrollEle.style.cssText += 'position:initial;top:0;'\n  // // scrollEle.scrollTop = Math.abs(scrollTop)\n  // scrollEle.style.overflow = 'initial'\n  // // scrollEle.style.top = '0px'\n  // document.body.style.overflow = 'initial'\n  // pageEle.style.marginTop = '0px'\n  // scrollEle.scrollTop = toptop\n  // window.scrollTo(0, toptop)\n}\n\nconst Modal = Vue.extend({\n  data() {\n    return {\n      show: false,\n      curComp: null as unknown as Component,\n      params: {} as any,\n      className: '',\n      isTop: false,\n      isIn: true,\n      cancelable: true,\n      useCloseBtn: true,\n      top: 0,\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      beforePressMask: () => {},\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      beforePressClose: () => {},\n    }\n  },\n  store,\n  methods: {\n    setBeforePressMask(cb?: () => any) {\n      if (cb) {\n        this.beforePressMask = cb\n      }\n    },\n    onPressMaskBefore() {\n      try {\n        this.beforePressMask()\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    onPressMask(e: any) {\n      setTimeout(() => {\n        this.onPressMaskBefore()\n        if (this.cancelable) {\n          this.onCancel()\n        } else {\n          e.preventDefault()\n        }\n      }, 50)\n    },\n\n    setBeforePressClose(cb?: () => any) {\n      if (cb) {\n        this.beforePressClose = cb\n      }\n    },\n    onPressCloseBefore() {\n      try {\n        this.beforePressClose()\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    onPressClose() {\n      this.onPressCloseBefore()\n      this.onClose()\n    },\n    onCancel() {\n      this.onClose()\n    },\n    onClose() {\n      this.isIn = false\n      setTimeout(() => {\n        this.show = false\n      }, 100)\n    },\n    setBackBtn(isShow: boolean) {\n      if (!(window as any).JavaBridgeObj) {\n        return\n      }\n      ;(window as any).JavaBridgeObj.showBackBtn(\n        JSON.stringify({\n          bl: isShow,\n        })\n      )\n    },\n    showRefreshControllIfNeed: (isTop: any) => {\n      if ((window as any).kinoJsApi && (window as any).kinoJsApi.setRefreshEnable) {\n        ;(window as any).kinoJsApi.setRefreshEnable(isTop)\n      }\n      if ((window as any).JavaBridgeObj && (window as any).JavaBridgeObj.enableRefresh) {\n        ;(window as any).JavaBridgeObj.enableRefresh(isTop)\n      }\n    },\n  },\n  watch: {\n    show(n) {\n      if (n) {\n        // setRefreshEnable(false)\n        // store.state.modalCount += 1\n        // this.setBackBtn(false)\n        // store.state.popupHide = false\n        lockScreen()\n        // const nn = lockScreen()\n        // if (nn > 0) {\n        //   this.top = nn\n        // }\n        // this.top = lockScreen()\n        // setIsOpenModal(true)\n      } else {\n        // setRefreshEnable(true)\n        // store.state.modalCount -= 1\n        // store.state.popupHide = true\n        // if (store.state.modalCount === 0) {\n        // this.setBackBtn(true)\n        unlockScreen(this.top)\n        // }\n        this.$emit('close')\n        // setIsOpenModal(false)\n      }\n    },\n  },\n})\n\nconst showModal = (\n  component: Component,\n  params: any,\n  cancelable = true,\n  useCloseBtn = true,\n  onPressMask?: () => any,\n  onPressClose?: () => any\n) => {\n  const modal = new Modal({ el: document.createElement('div') })\n  const el = modal.$el\n  modal.curComp = component\n  modal.params = params\n  modal.cancelable = cancelable\n  modal.useCloseBtn = useCloseBtn\n  modal.className = params.class || ''\n  document.body.appendChild(el)\n  modal.show = true\n  // 点击遮罩层关闭时触发的事件\n  modal.setBeforePressMask(onPressMask)\n  modal.setBeforePressClose(onPressClose)\n  return modal\n}\n\nexport { showModal }\n\nexport default Modal\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./modal.vue?vue&type=template&id=c7fe562c&scoped=true\"\nimport script from \"./modal.vue?vue&type=script&lang=ts\"\nexport * from \"./modal.vue?vue&type=script&lang=ts\"\nimport style0 from \"./modal.vue?vue&type=style&index=0&id=c7fe562c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7fe562c\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-param-reassign */\n/* eslint-disable no-restricted-globals */\n\nimport { getArgsFromUrl, getPlatform, registerBridgeCbId } from '@badam/common-utils'\nimport { showToast } from '@badam/vue-components'\nimport { sleep } from '@d/utils/dial'\nimport { client_id, getAppClientVersion, isDiwania, recall_value } from '.'\n\n/* eslint-disable import/prefer-default-export */\nconst targetVersoin = 10291\nconst scheme = process.env.VUE_APP_FLAVOR === 'weyay' ? 'weyayplay' : 'sawaludo'\n\nexport function isTargetVersion() {\n  if (getPlatform().isAndroid) {\n    return true\n  }\n  try {\n    const version = +getAppClientVersion()\n    return version >= targetVersoin\n  } catch (e) {\n    return false\n  }\n}\n\ntype Params = {\n  login_type: 'facebook' | 'google' | 'apple'\n  user_id?: string // facebook、apple必填\n  access_token?: string // facebook、apple必填\n  id_token?: string // google必填\n  appid?: string\n  auth_type?: string // 1: ludo, 2: sawa, 3: apple, 4: diwania\n  code?: string // 测试用\n}\n\nexport async function callbackToClient(p: Params) {\n  // if (p.login_type === 'apple') {\n  //   p.appid = client_id.apple\n  // } else if (p.login_type === 'google') {\n  //   p.appid = client_id.google\n  // } else if (p.login_type === 'facebook') {\n  //   p.appid = client_id.facebook\n  // }\n  p.auth_type = isDiwania.value ? '4' : '1'\n  const ticket = encodeURIComponent(JSON.stringify(p))\n  const link = `${scheme}://sawaksa_login_key?ticket=${ticket}&is_recall=${recall_value}`\n  // const link = `${scheme}://sawaksa_login_key/`\n  if (p.login_type === 'apple') {\n    await sleep(50)\n  }\n  console.warn('deeplink>>', link)\n  if (getArgsFromUrl('keep')) {\n    return\n  }\n  location.href = link\n}\n\nexport function goToMobileWebview() {\n  const url = location.href.replace('#/', '#/mobile')\n  try {\n    location.href = `${scheme}://sawaksa_login_mobile?url=${encodeURIComponent(url)}`\n  } catch (e) {\n    //\n  }\n}\n\nexport async function getDeviceToken() {\n  return new Promise((r) => {\n    const id = registerBridgeCbId((res: any) => {\n      try {\n        const r1 = JSON.parse(res)\n        if (r1 && r1.token) {\n          r(r1.token)\n        }\n      } catch (e) {\n        r('')\n      }\n    })\n    const obj = { callback_id: id }\n    console.log('getDeviceToken', obj)\n    if (window.JavaBridgeObj && (window.JavaBridgeObj as any).getDeviceToken) {\n      ;(window as any).JavaBridgeObj.getDeviceToken(JSON.stringify(obj))\n    } else {\n      r('')\n    }\n  })\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login2.vue?vue&type=style&index=0&id=770fa55a&prod&scoped=true&lang=css\"","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    googleLoad: false,\n    data: '',\n    country: '',\n    countryFlag: '',\n  },\n  mutations: {},\n  actions: {},\n  modules: {},\n})\n","/* eslint-disable indent */\n/* eslint-disable import/no-cycle */\n/* eslint-disable camelcase */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable max-len */\nimport { api, ApiResult, getArgsFromUrl } from '@badam/common-utils'\nimport axios from 'axios'\nimport store from '@/store'\nimport { client_id, getAppClientVersion, isDiwania } from '@/utils'\nimport { getDeviceToken, isTargetVersion } from '@/utils/new-login'\nimport {\n  CreateBindedAccountParam,\n  QueryBindedAccountsParam,\n  SelectBindedAccountParam,\n} from './interface'\n// import qs from 'qs'\n// import { ActivityRankingListRspMsg, CommonRankingListResult } from './interface'\n\napi.setWgetEnable(true)\n\nexport const isWeyay = process.env.VUE_APP_FLAVOR === 'weyay'\n\nconst wget = api.wget.bind(api)\nconst get = api.get.bind(api)\nconst post = api.post.bind(api)\n\nif (getArgsFromUrl('test_rc')) {\n  api.setHeader(() => ({\n    'x-cli-rc': '',\n  }))\n}\n\nfunction getAuthType() {\n  const is_diwania = getArgsFromUrl('is_diwania')\n  return is_diwania ? 4 : 1\n}\n\nexport function loginWithApple(\n  user_id: string,\n  access_token: string,\n  nickname?: string,\n  auto_create = false\n) {\n  const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'apple',\n    user_id,\n    access_token,\n    // nickname,\n    auth_type: getAuthType(),\n    auth_access,\n    auto_create,\n    appid: client_id.apple,\n  }\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  // data = qs.stringify(data)\n\n  return post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithGoogle(id_token: string, auto_create = false) {\n  const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'google',\n    id_token,\n    auth_type: getAuthType(),\n    auth_access,\n    auto_create,\n    appid: client_id.google,\n  }\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  // data = qs.stringify(data)\n\n  return post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithFacebook(user_id: string, access_token: string, auto_create = false) {\n  const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'facebook',\n    user_id,\n    access_token,\n    auth_type: getAuthType(),\n    auth_access,\n    auto_create,\n    appid: client_id.facebook(),\n  }\n\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  // data = qs.stringify(data)\n\n  return post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithMobile(\n  mobile: string | number,\n  code: string | number,\n  country_code: string | number,\n  auto_create = false\n) {\n  // const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'mobile',\n    mobile,\n    code,\n    country_code,\n    auth_type: getAuthType(),\n    // auth_access,\n    auto_create,\n  }\n\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  if (isTargetVersion()) {\n    return api.wget('/api/user_mode/get_login_key/', obj) as Promise<[boolean, ApiResult<any>]>\n  }\n  return api.post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport const addEvent = (event: BadamEvent) =>\n  // if (conf.useMock) {\n  //   return mock.commonRank()\n  // }\n  get('/api/sys/add_event/', {\n    event_name: event.eventName,\n    uuid: event.uuid,\n    version: event.version,\n    str_param2: event.dict.str_param2,\n    str_param3: event.dict.str_param3,\n    str_param4: event.dict.str_param4,\n    str_param1: JSON.stringify({\n      uid: event.uid,\n      op: event.op,\n      tk: event.tk,\n      ua: event.ua,\n      proj: event.proj,\n      href: event.href,\n      rid: event.rid,\n    }),\n    int_param1: event.dict.int_param1,\n    int_param2: event.dict.int_param2,\n    int_param3: event.dict.int_param3,\n    int_param4: event.dict.int_param4,\n  }) as unknown as Promise<[boolean, ApiResult<any>]>\n\n/**\n *\n * 手机获取验证码\n * @export\n * @param {string} mobile 手机号码\n * @param {string} country_code 国家码\n * @return {*}\n */\nexport async function getMobileCode(mobile: string | number, country_code: string | number) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const device_token = getArgsFromUrl('device_token') || (await getDeviceToken()) || ''\n  let obj\n  if (device_token) {\n    obj = {\n      mobile,\n      country_code,\n      device_token,\n      from_app_uuid: uuid,\n      from_app_package_name: bundle_id,\n      auth_type: getAuthType(),\n    }\n  } else {\n    obj = {\n      mobile,\n      country_code,\n      from_app_uuid: uuid,\n      from_app_package_name: bundle_id,\n      auth_type: getAuthType(),\n    }\n  }\n  return api.wget3('/api/user/get_code/', obj, {\n    'x-cli-br': 1,\n    'x-cli-pn': isWeyay ? 'com.sawa.weyay.h5' : 'com.sawa.web.ksa',\n  }) as Promise<[boolean, ApiResult<any>]>\n}\n\n// 获取绑定手机号可登录账号列表\nexport function queryBindedAccounts(param: QueryBindedAccountsParam) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = param\n  obj.auth_type = isDiwania.value ? 4 : 1\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, (obj as any)[key]))\n  if (isTargetVersion()) {\n    return api.wget('/api/mobile_login/query_identities/', obj) as Promise<\n      [boolean, ApiResult<any>]\n    >\n  }\n  return api.post('/api/mobile_login/query_identities/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\n// 创建账号（新）\nexport function createBindedAccount(param: CreateBindedAccountParam) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = param\n  obj.auth_type = isDiwania.value ? 4 : 1\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, (obj as any)[key]))\n  if (isTargetVersion()) {\n    return api.wget('/api/mobile_login/create/', obj) as Promise<[boolean, ApiResult<any>]>\n  }\n  return post('/api/mobile_login/create/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\n// 选择账号登录\nexport function selectBindedAccount(param: SelectBindedAccountParam) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = param\n  obj.auth_type = isDiwania.value ? 4 : 1\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, (obj as any)[key]))\n  if (isTargetVersion()) {\n    return api.wget('/api/mobile_login/select_identity/', obj) as Promise<[boolean, ApiResult<any>]>\n  }\n  return post('/api/mobile_login/select_identity/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('App')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component } from 'vue-property-decorator'\nimport { BaseComponent, BaseView } from '@badam/vue-components'\n\ninterface Props {}\n\n@Component({})\nclass App extends BaseComponent<Props> {\n  render() {\n    return (\n      <BaseView id=\"app\">\n        <keep-alive>\n          <router-view></router-view>\n        </keep-alive>\n      </BaseView>\n    )\n  }\n}\n\nexport default App\n","\nimport Vue from 'vue'\nimport App from './App'\n\nexport default Vue.extend({\n  components: { App },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=f03c466a\"\nimport script from \"./main.vue?vue&type=script&lang=ts\"\nexport * from \"./main.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login-c\",class:[_vm.appStyle]},[(_vm.sdkLoaded)?[_c('div',{staticClass:\"banner\"}),_c('div',{staticClass:\"login-cc\",attrs:{\"dir\":\"auto\"}},[_c('div',{staticClass:\"sawa-logo\",class:{ diwania: _vm.isDiwania, min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75), weyay: _vm.isWeyay }}),_c('div',{staticClass:\"message2\",class:{ min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75) },attrs:{\"dir\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.isWeyay ? _vm.sprintf(_vm._T('在{appname1}中登录你的{appname2}账号使用'), { appname1: _vm._T('Weyay Play'), appname2: _vm._T('Weyay'), }) : _vm.isDiwania ? _vm._T('在Sawa Play中登录你的Diwania账号使用') : _vm._T('登录Sawa账号，和你的Sawa好友一起聊天'))+\" \")]),(_vm.appleLoginVisual)?_c('div',{staticClass:\"btn apple-btn\",class:{ min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75) },attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressApple}},[_vm._v(\" Sign in with Apple \"),_c('div',{staticClass:\"icon apple-icon\"})]):_vm._e(),_c('div',{staticClass:\"ggbtn\",class:{ min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75) },on:{\"click\":_vm.onPressGoogle}},[_c('div',{attrs:{\"id\":\"google-login-btn\"}}),_vm._m(0)]),_c('div',{staticClass:\"btn facebook-btn\",class:{ min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75) },attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressFacebook}},[_vm._v(\" Facebook \"),_c('div',{staticClass:\"icon facebook-icon\"})]),_c('div',{staticClass:\"btn mobile-btn phone\",class:{ min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75) },attrs:{\"to\":\"/mobile\",\"dir\":\"auto\"},on:{\"click\":_vm.onPhonePress}},[_vm._v(\" Mobile Phone \"),_c('div',{staticClass:\"icon phone-icon\"})]),_c('div',{staticClass:\"policy\",class:{ min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75) },attrs:{\"dir\":\"auto\"},domProps:{\"innerHTML\":_vm._s(_vm.policy)}}),(!_vm.isDiwania && !_vm.isWeyay && !_vm.noDiwania && !_vm.noAndroidLudo)?_c('div',{staticClass:\"to-diwania-c\",class:{ min: _vm.isOverWH(0.66), min2: _vm.isOverWH(0.75) },on:{\"click\":_vm.toDiwania}},[_c('div',{staticClass:\"to-diwania\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm._T('Diwania用户在此登录')))]),_c('div',{staticClass:\"to-icon\"})]):_vm._e(),(_vm.loading)?_c('LoadingComp'):_vm._e()],1)]:[_c('div',{staticClass:\"empty\"})]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"btn google-btn\",attrs:{\"dir\":\"auto\"}},[_vm._v(\" Google \"),_c('div',{staticClass:\"icon google-icon\"})])\n}]\n\nexport { render, staticRenderFns }","\n/* eslint-disable global-require */\n/* eslint-disable @typescript-eslint/no-var-requires */\n/* eslint-disable camelcase */\n/* eslint-ignore */\n\nimport Vue from 'vue'\nimport { _T, getArgsFromUrl, getArgsFromUrlHash, getPlatform, getSysTs, sprintf } from '@badam/common-utils'\nimport { showToast } from '@/components/toast/toast.vue'\nimport store from '@/store'\nimport { loginWithApple, loginWithFacebook, loginWithGoogle } from '@/api'\nimport { Events, reportEvent } from '@/event'\nimport {\n  CLIENT_ID,\n  getLoadDuration,\n  getSub,\n  isDiwania,\n  refreshAccount,\n  showBanToast,\n  sleepBlock,\n  toDiwania,\n  unregisterRemind,\n} from '@/utils'\nimport { showModal } from '@/components/base/modal/modal.vue'\n\nimport { callbackToClient, goToMobileWebview, isTargetVersion } from '@/utils/new-login'\nimport { resolveApiBase, sleep } from '@d/utils/dial'\nimport CreateModal from './create-modal/index.vue'\nimport { isProductAndroidLudo } from '../../helper'\n\ndeclare let AppleID: any\ndeclare let FB: any\n\nexport default Vue.extend({\n  // eslint-disable-next-line vue/no-unused-components\n  components: { CreateModal },\n  data() {\n    return {\n      appleLoginVisual: !isProductAndroidLudo(),\n      loading: false,\n      sdkLoaded: true,\n      isDiwania,\n      // isWeyayplay: process.env.VUE_APP_FLAVOR === 'weyay' && (getArgsFromUrlHash('bundleid') === 'com.sawa.weyayjackaroo'),\n      isWeyay: process.env.VUE_APP_FLAVOR === 'weyay',\n      isRelease: resolveApiBase().indexOf('arab-pk-release.badambiz') >= 0,\n      codeClient: null as any,\n      // use_new_google:\n      //   !!getArgsFromUrl('use_new_google') ||\n      //   resolveApiBase().indexOf('test10') >= 0 ||\n      //   resolveApiBase().indexOf('release') >= 0,\n      use_new_google: true,\n      noDiwania: !!Number(getArgsFromUrl('no_diwania') || '0'),\n      noAndroidLudo: isProductAndroidLudo(),\n    }\n  },\n  mounted() {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    //\n\n    if (localStorage.getItem('firstCome')) {\n      const p: any = {\n        is_first_time: false,\n      }\n\n      const userType = getArgsFromUrl('user_type')\n      if (userType) {\n        p.type = decodeURIComponent(userType)\n      }\n      reportEvent(Events.h5_loginpage, p)\n    } else {\n      localStorage.setItem('firstCome', '1')\n      const p: any = {\n        is_first_time: true,\n      }\n      const userType = getArgsFromUrl('user_type')\n      if (userType) {\n        p.type = decodeURIComponent(userType)\n      }\n      reportEvent(Events.h5_loginpage, p)\n    }\n    reportEvent(Events.h5_loginpage_loading_finish, {\n      source: decodeURIComponent(getArgsFromUrl('page_source') || ''),\n      duration: getLoadDuration(),\n    })\n\n    if (getArgsFromUrl('is_refresh')) {\n      this.$router.push({ name: 'Mobile' })\n    }\n  },\n  async created() {\n    // todo\n  },\n  computed: {\n    appStyle(): any {\n      if (this.isWeyay) {\n        return '-weyay'\n      }\n      return ''\n    },\n    googleLoad(): any {\n      return store.state.googleLoad\n    },\n    policy(): any {\n      const src1 = this.isWeyay\n        ? 'https://h5.weyay.chat/html/docs/weyay/term_of_service.html'\n        : isDiwania.value\n        ? 'https://isawa.badambiz.com/html/docs/diwania/user_agreement.html'\n        : 'https://isawa.badambiz.com/html/user_agreement_ksa.html'\n      const src2 = this.isWeyay\n        ? 'https://h5.weyay.chat/html/docs/weyay/privacy_policy.html'\n        : isDiwania.value\n        ? 'https://isawa.badambiz.com/html/docs/diwania/privacy_policy.html'\n        : 'https://isawa.badambiz.com/html/privacy_policy_ksa.html'\n      return sprintf(\n        _T('点击登录意味着你已经同意遵守{appname}的{terms_of_service}和{privacy_policy}'),\n        {\n          appname: this.isWeyay ? 'Weyay' : isDiwania.value ? 'Diwania' : 'Sawa',\n          terms_of_service: `<a href=${src1} class='a'>${_T('服务条款')}</a>`,\n          privacy_policy: `<a href=${src2} class='a'>${_T('隐私政策')}</a>`,\n        }\n      )\n    },\n  },\n  watch: {\n    googleLoad(newValue, oldValue) {\n      if (newValue) {\n        this.attachSignin()\n        setTimeout(() => {\n          this.sdkLoaded = true\n        }, 100)\n      }\n    },\n  },\n  methods: {\n    isOverWH(t: number) {\n      return window.innerWidth / window.innerHeight > t\n    },\n    _T,\n    sprintf,\n    toDiwania,\n    async onPressApple() {\n      try {\n        this.loading = true\n        reportEvent(Events.h5_loginpage_elementclick, {\n          element_name: 'apple',\n        })\n        const data = await AppleID.auth.signIn()\n        if (!data || !data.authorization || !data.authorization.id_token) {\n          this.loading = false\n          reportEvent(Events.user_login_report_failed, {\n            source: 'sawa',\n            error_code: `获取apple token失败`,\n            error_content: '获取apple token失败',\n            is_sawaapp_authorize: false,\n            h5_type: 'apple',\n            type: '登录',\n            h5_scene: 'get_token',\n          })\n          return\n        }\n\n        const { code: apple_uid, id_token: apple_token } = data.authorization\n        const user_id = getSub(apple_token)\n        this.loading = false\n        this.doLoginApple(user_id, apple_token)\n      } catch (error) {\n        this.loading = false\n      }\n    },\n    async onPressGoogle() {\n      if (!this.use_new_google) {\n        return\n      }\n      //\n      // ① 等埋点真正返回\n      reportEvent(Events.h5_loginpage_elementclick, {\n        element_name: 'google',\n      })\n\n      // ② 强制延迟 400 ms\n      await sleep(400)\n\n      console.log('onPressGoogle')\n\n      // ③ 手动拉起 Google 登录\n\n      if (this.codeClient) {\n        this.codeClient.requestCode()\n        return\n      }\n    },\n    async onPhonePress() {\n      //\n      reportEvent(Events.h5_loginpage_elementclick, {\n        element_name: 'phone',\n      })\n      await sleep(400)\n      if (isTargetVersion()) {\n        goToMobileWebview()\n        return\n      }\n      this.$router.push({ name: 'Mobile' })\n    },\n    async onPressFacebook() {\n      console.log('onPressFacebook')\n      reportEvent(Events.h5_loginpage_elementclick, {\n        element_name: 'facebook',\n      })\n      await sleep(400)\n      FB.login((response: any) => {\n        console.log('response', response)\n        if (!response.authResponse) {\n          this.loading = false\n          reportEvent(Events.user_login_report_failed, {\n            source: 'sawa',\n            error_code: `获取facebook token失败`,\n            error_content: '获取facebook token失败',\n            is_sawaapp_authorize: false,\n            h5_type: 'facebook',\n            type: '登录',\n            h5_scene: 'get_token',\n          })\n          return\n        }\n        const { userID: fb_uid, accessToken: fb_token } = response.authResponse\n        this.doLoginFacebook(fb_uid, fb_token)\n      })\n    },\n    showCreateModal(cb: any, source: string) {\n      if (isDiwania.value) {\n        showToast(_T('无已关联的Diwania账号，您可返回至登录主界面注册新账号'))\n        return\n      }\n      showModal(CreateModal, { cb, source })\n    },\n    async doLoginApple(apple_uid: string, apple_token: string, auto_create = false) {\n      if (isTargetVersion()) {\n        callbackToClient({\n          login_type: 'apple',\n          user_id: apple_uid,\n          access_token: apple_token,\n        })\n        return\n      }\n      this.loading = true\n      const [success, accountResp] = await loginWithApple(\n        apple_uid,\n        apple_token,\n        undefined,\n        auto_create\n      )\n      this.loading = false\n\n      if (!success || accountResp.result !== 0) {\n        reportEvent(Events.user_login_report_failed, {\n          source: 'sawa',\n          error_code: `${accountResp.result}`,\n          error_content: `${accountResp.message}`,\n          is_sawaapp_authorize: false,\n          h5_type: 'apple',\n          type: '登录',\n          h5_scene: 'login',\n        })\n      }\n\n      if (!success) {\n        showToast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20001) {\n          showBanToast(accountResp.message || '')\n          return\n        }\n        if (accountResp.result === 20193) {\n          unregisterRemind(accountResp)\n          return\n        }\n\n        if (accountResp.result === 20312) {\n          this.showCreateModal(() => this.doLoginApple(apple_uid, apple_token, true), 'apple')\n        } else {\n          showToast(accountResp.toast || _T('获取数据失败，请稍后重试'))\n        }\n        // todo 创建账号\n        // this.showDialog(accountResp, apple_uid, apple_token, 'apple')\n        return\n      }\n\n      refreshAccount(accountResp, 'sawaksa_apple')\n    },\n    async doLoginFacebook(fb_uid: string, fb_token: string, auto_create = false) {\n      if (isTargetVersion()) {\n        callbackToClient({\n          login_type: 'facebook',\n          user_id: fb_uid,\n          access_token: fb_token,\n        })\n        return\n      }\n      if (this.loading) {\n        return\n      }\n      this.loading = true\n      const [success, accountResp] = await loginWithFacebook(fb_uid, fb_token, auto_create)\n      this.loading = false\n\n      if (!success || accountResp.result !== 0) {\n        reportEvent(Events.user_login_report_failed, {\n          source: 'sawa',\n          error_code: `${accountResp.result}`,\n          error_content: `${accountResp.message}`,\n          is_sawaapp_authorize: false,\n          h5_type: 'facebook',\n          type: '登录',\n          h5_scene: 'login',\n        })\n      }\n\n      if (!success) {\n        showToast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20001) {\n          showBanToast(accountResp.message || '')\n          return\n        }\n        if (accountResp.result === 20193) {\n          unregisterRemind(accountResp)\n          return\n        }\n\n        if (accountResp.result === 20312) {\n          this.showCreateModal(() => this.doLoginFacebook(fb_uid, fb_token, true), 'facebook')\n        } else {\n          showToast(accountResp.toast || _T('获取数据失败，请稍后重试'))\n        }\n        // todo 错误弹窗\n        // this.showDialog(accountResp, fb_uid, fb_token, 'fb')\n        return\n      }\n\n      console.log('facebook login rsp', accountResp, success)\n      refreshAccount(accountResp, 'sawaksa_fb')\n    },\n    async doLoginGoogle(token: any, auto_create = false, is_token = true) {\n      if (isTargetVersion()) {\n        if (!is_token) {\n          console.log('callbackToClient', token)\n          callbackToClient({\n            login_type: 'google',\n            access_token: token,\n            id_token: '_',\n          })\n        } else {\n          callbackToClient({\n            login_type: 'google',\n            id_token: token,\n          })\n        }\n        return\n      }\n      this.loading = true\n      const [success, accountResp] = await loginWithGoogle(token, auto_create)\n      this.loading = false\n\n      console.log('google login data', success, accountResp)\n\n      if (!success || accountResp.result !== 0) {\n        reportEvent(Events.user_login_report_failed, {\n          source: 'sawa',\n          error_code: `${accountResp.result}`,\n          error_content: `${accountResp.message}`,\n          is_sawaapp_authorize: false,\n          h5_type: 'google',\n          type: '登录',\n          h5_scene: 'login',\n        })\n      }\n\n      if (!success) {\n        showToast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20001) {\n          showBanToast(accountResp.message || '')\n          return\n        }\n        if (accountResp.result === 20193) {\n          unregisterRemind(accountResp)\n          return\n        }\n\n        if (accountResp.result === 20312) {\n          this.showCreateModal(() => this.doLoginGoogle(token, true), 'google')\n        } else {\n          showToast(accountResp.toast || _T('获取数据失败，请稍后重试'))\n        }\n\n        // todo 错误弹窗\n        // this.showDialog(accountResp, fb_uid, fb_token, 'fb')\n        return\n      }\n\n      console.log('google login rsp', accountResp, success)\n\n      refreshAccount(accountResp, 'sawaksa_google')\n    },\n    attachSignin() {\n      const { google } = window as any\n\n      if (google) {\n        if (!this.use_new_google) {\n          google.accounts.id.initialize({\n            client_id: CLIENT_ID,\n            callback: (data: any) => {\n              this.doLoginGoogle(data?.credential)\n            },\n          })\n          google.accounts.id.renderButton(document.getElementById('google-login-btn'), {\n            theme: 'outline',\n            size: 'large',\n            type: 'standard',\n            width: '311',\n            click_listener: async () => {\n              reportEvent(Events.h5_loginpage_elementclick, {\n                element_name: 'google',\n              })\n              console.log('google login click 111')\n              // sleepBlock(400)\n              await sleep(400)\n              console.log('google login click 222')\n            },\n          })\n        } else {\n          this.codeClient = google.accounts.oauth2.initCodeClient({\n            client_id: CLIENT_ID,\n            scope: 'openid email profile',\n            ux_mode: 'popup',\n            callback: (data: any) => {\n              console.log('google login data', data)\n              this.doLoginGoogle(data?.credential || data?.code, false, false)\n            },\n          })\n          ;(window as any).codeClient = this.codeClient\n        }\n      }\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=73de1572&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=73de1572&prod&lang=css\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=73de1572&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73de1572\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter, { RouteConfig } from 'vue-router'\nimport Home from '../views/index.vue'\n\nVue.use(VueRouter)\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n  {\n    path: '/mobile',\n    name: 'Mobile',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/mobile/mobile.vue'),\n  },\n  {\n    path: '/accounts',\n    name: 'Accounts',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/account/account-list.vue'),\n  },\n  {\n    path: '/selectCountry',\n    name: 'SelectCountry',\n    component: () => import('../views/mobile/country-select.vue'),\n  },\n]\n\nconst router = new VueRouter({\n  routes,\n})\n\nexport default router\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mask\",attrs:{\"id\":\"loading\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"loading-c\"},[(_vm.isWeyay)?_c('div',{staticClass:\"loading-3\"}):_c('div',{staticClass:\"loading-2\"})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  props: ['onRef', 'initValues'],\n  data() {\n    return {\n      show: false,\n      isWeyay: process.env.VUE_APP_FLAVOR === 'weyay',\n    }\n  },\n  created() {\n    if (this.onRef) {\n      this.onRef(this)\n    }\n    this.change(this.initValues)\n  },\n  watch: {\n    initValues: {\n      handler(newv, oldv) {\n        this.change(newv)\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    change(value: any) {\n      for (const i in value) {\n        ;(this as any)[i] = value[i]\n      }\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./loading.vue?vue&type=template&id=6ca71a78&scoped=true\"\nimport script from \"./loading.vue?vue&type=script&lang=ts\"\nexport * from \"./loading.vue?vue&type=script&lang=ts\"\nimport style0 from \"./loading.vue?vue&type=style&index=0&id=6ca71a78&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ca71a78\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-lonely-if */\n/* eslint-disable import/no-cycle */\n/* eslint-disable import/prefer-default-export */\nimport Vue from 'vue'\nimport '@badam/vue-tsx-support/enable-check'\nimport '@badam/vue-tsx-support/options/enable-nativeon'\nimport {\n  calculateWindow,\n  exec,\n  ready,\n  addWebpAvifSupport,\n  initErrorReporter,\n  reportSensors,\n  metric,\n  DayJs,\n  TimeType,\n  getPlatform,\n  getArgsFromUrlHash,\n  setLang,\n  getServTs,\n  appType,\n  updateTsDelta,\n  calculateWindow4,\n} from '@badam/common-utils'\nimport Main from '@/main.vue'\nimport store from '@/store'\nimport { CLIENT_ID, initAppleLogin, initDarkMode, initDomainDial } from '@/utils'\nimport { getConfigAndDial, resolveApiBase, setApiBaseUrl } from '@d/utils/dial'\nimport FirebaseManager from '@d/utils/firebase-manager'\nimport { name, nanoid } from '../../package.json'\nimport './index.module.scss'\nimport '@/assets/css/ludo.scss'\nimport lang from './lang/index.ksa.json'\nimport router from './router/index'\nimport Loading from './components/loading.vue'\n\nVue.config.productionTip = false\nVue.component('LoadingComp', Loading)\n\nasync function setTime() {\n  const time = await getServTs(appType.sawa)\n  updateTsDelta(time)\n}\n\nfunction init() {\n  return Promise.all([setTime()])\n}\n\nfunction createGoogleSDKScript() {\n  const loadGoogleApi = () => {\n    store.state.googleLoad = true\n  }\n  const script = document.createElement('script')\n  script.type = 'text/javascript'\n  script.src = 'https://accounts.google.com/gsi/client'\n  script.onload = loadGoogleApi\n  document.body.appendChild(script)\n}\n\nexport const initLudo = () =>\n  exec(async () => {\n    createGoogleSDKScript()\n\n    if (((getArgsFromUrlHash('lang') || '') as string).toLowerCase().includes('zh')) {\n      setLang({}, '', true)\n    } else {\n      setLang(lang)\n    }\n    store.state.data = decodeURIComponent(getArgsFromUrlHash('data')) || ''\n    initAppleLogin()\n    calculateWindow4()\n    // initDarkMode()\n    banScale()\n    // 神策依赖，生产才打开\n    initDomainDial()\n\n    try {\n      init()\n      DayJs.setOffset(TimeType.Ksa)\n      reportSensors('act_meaningful_content_loaded', true)\n    } catch (err) {\n      console.error(err)\n    }\n\n    new Vue({\n      store,\n      router,\n      render: (h) => h(Main),\n    }).$mount('#app')\n  })\n\nfunction banScale() {\n  document.documentElement.addEventListener(\n    'touchstart',\n    (event) => {\n      if (event.touches.length > 1) {\n        event.preventDefault()\n      }\n    },\n    false\n  )\n\n  let lastTouchEnd = 0\n  document.documentElement.addEventListener(\n    'touchend',\n    (event) => {\n      const now = Date.now()\n      if (now - lastTouchEnd <= 300) {\n        event.preventDefault()\n      }\n      lastTouchEnd = now\n    },\n    false\n  )\n  document.addEventListener('gesturestart', (event) => {\n    event.preventDefault()\n  })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"loading-content\"},[_c('img',{attrs:{\"src\":require(\"@@/assets/ar/img/loading/loading.gif\"),\"width\":\"50\",\"height\":\"50\"}}),_c('p',{staticClass:\"desc\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm.title))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\n\nexport default Vue.extend({\n  data() {\n    return {\n      title: '',\n    }\n  },\n  methods: {\n    setTitle(title: string) {\n      this.title = title\n    },\n  },\n})\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./loading.vue?vue&type=template&id=a127ecac&scoped=true\"\nimport script from \"./loading.vue?vue&type=script&lang=ts\"\nexport * from \"./loading.vue?vue&type=script&lang=ts\"\nimport style0 from \"./loading.vue?vue&type=style&index=0&id=a127ecac&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a127ecac\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-param-reassign */\nimport Vue from 'vue'\nimport Loading from '@@/components/common/loading/loading'\n\nfunction append(el: any) {\n  el.appendChild(el.instance.$el)\n}\n\nfunction remove(el: any) {\n  el.removeChild(el.instance.$el)\n}\n\nconst loadingDirective = {\n  inserted(el: any, binding: any) {\n    const app = new Vue(Loading)\n    const instance = app.$mount(document.createElement('div'))\n    el.instance = instance // eslint-disable-line\n    if (binding.value) {\n      append(el)\n    }\n  },\n  update(el: any, binding: any) {\n    console.warn('loading updated', binding.value)\n\n    if (binding.value !== binding.oldValue) {\n      if (binding.value) {\n        append(el)\n      } else {\n        remove(el)\n      }\n    }\n  }\n}\n\nexport default loadingDirective\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.showWrap)?_c('div',{staticClass:\"toast wrap\",class:_vm.showContent ? 'fadein' : 'fadeout',attrs:{\"dir\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\n\nconst Toast = Vue.extend({\n  props: {\n    text: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      showWrap: true, // 是否显示组件\n      showContent: true, // 作用:在隐藏组件之前,显示隐藏动画\n    }\n  },\n})\n\nexport const showToast = (text: string, duration = 5000) => {\n  const toast = new Toast({ el: document.createElement('div') }) as any\n  const el = toast.$el\n  toast.text = text\n  document.body.appendChild(el)\n  // 提前 250ms 执行淡出动画\n  setTimeout(() => {\n    toast.showContent = false\n  }, duration - 1250)\n  // 过了 duration 时间后隐藏整个组件\n  setTimeout(() => {\n    toast.showWrap = false\n  }, duration)\n}\n\nexport function registryToast() {\n  Vue.prototype.$toast = showToast\n  ;(window as any).toast = showToast\n}\n\nexport default Toast\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./toast.vue?vue&type=template&id=fbc4ce7a&scoped=true\"\nimport script from \"./toast.vue?vue&type=script&lang=ts\"\nexport * from \"./toast.vue?vue&type=script&lang=ts\"\nimport style0 from \"./toast.vue?vue&type=style&index=0&id=fbc4ce7a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fbc4ce7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login cf\",class:{ '-ludo': _vm.isBalootToLudo }},[_vm._m(0),_c('div',{staticClass:\"login__icon\"}),_c('div',{staticClass:\"login__facebook\",on:{\"click\":_vm.onPressFacebook}},[_vm._m(1)]),_c('div',{staticClass:\"login__apple\",on:{\"click\":_vm.onPressApple}},[_c('div',{staticClass:\"login__appleIcon\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"\")]),_c('div',{staticClass:\"login__appleDesc\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"Sign in with Apple\")])]),_c('div',{staticClass:\"login__desc\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm.descV))]),_c('div',{staticClass:\"login__footer\"},[_c('div',{staticClass:\"login__link\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressPrivacy}},[_vm._v(_vm._s(_vm._T('用户协议')))]),_c('div',{staticClass:\"login__sign\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"&\")]),_c('div',{staticClass:\"login__link\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressAgreement}},[_vm._v(_vm._s(_vm._T('隐私协议')))])]),(_vm.loading)?_c('div',{staticClass:\"loading\"}):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login__close\"},[_c('i')])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login__facebookOutline\"},[_c('i',{staticClass:\"login__facebookIcon\"}),_c('i',{staticClass:\"login__facebookDesc\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"Login with Facebook\")])])\n}]\n\nexport { render, staticRenderFns }","/* eslint-disable import/no-cycle */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-underscore-dangle */\nimport lan from '@@/lang/index.ar.json'\nimport { getArgsFromUrl } from './func'\n\nconst language = getArgsFromUrl('lang') || getArgsFromUrl('lan')\n\nexport function _T(s: string) {\n  const sheet = 'sawaksa增加baloot登录方式'\n  const lang: any = lan\n  if (language === 'zh') {\n    return s\n  }\n  // console.log(s, lan)\n  const mapped = lang[s] || lang[`${s}{#${sheet}#}`]\n  if (mapped) {\n    return mapped\n  }\n  return s.replace(/\\{#.*#\\}/g, '')\n}\n\nexport function textWithRTL(text: string) {\n  if (!text) {\n    return ''\n  }\n  return `\\u202B${text}\\u202B`\n}\n\nexport function textWithLTR(text: string) {\n  if (!text) {\n    return ''\n  }\n  return `\\u202A${text}\\u202A`\n}\n\nexport function sprintf(expr: string, ...params: any[]) {\n  if (!expr) {\n    return ''\n  }\n  let i = 0\n  const ret = expr.replace(/%s/g, () => params[i++])\n  return textWithRTL(ret)\n}\n\nexport function printf(expr: string, params: any) {\n  if (!expr) {\n    return ''\n  }\n  const ret = expr.replace(/%\\[(\\w)*\\]/g, (item) => {\n    const key = item.split('%[')[1]\n    const value = key.split(']')[0]\n    return params[value] === undefined || null ? '' : params[value]\n  })\n  return textWithRTL(ret)\n}\n\n// 数字显示处理\nexport function formatCount(count: number, product = 'live') {\n  if (product === 'live') {\n    if (count > 10000) {\n      return `${(count / 10000).toFixed(2)}w`\n    }\n    return count.toString()\n  }\n  if (count > 1000 && count <= 1000000) {\n    return `${(count / 1000).toFixed(2)}K`\n  }\n  if (count > 1000000) {\n    return `${(count / 1000000).toFixed(2)}M`\n  }\n  return count.toString()\n}\n\nexport function resizeImage(qiniuURL: string, width = 240) {\n  // @see https://developer.qiniu.com/dora/1279/basic-processing-images-imageview2\n  return `${qiniuURL}?imageView2/2/w/${width}`\n}\n\n// live专用\nexport function sslFix(url: string, width = 240) {\n  if (!url) {\n    return url\n  }\n  const a = /http[s]?:\\/\\/assets\\.zvod\\.badambiz\\.com/\n  const b = 'https://assets-ssl.zvod.badambiz.com'\n  const c = url.replace(a, b)\n  const d = width ? resizeImage(c, width) : c // width:0，表示不需要裁剪的情况\n  return d\n}\n\nexport const LangMixin = {\n  methods: {\n    _T,\n    sprintf,\n    textWithRTL,\n    formatCount,\n    textWithLTR,\n    sslFix,\n    printf,\n  },\n}\n\nexport default {\n  _T,\n  sprintf,\n  textWithRTL,\n  formatCount,\n  textWithLTR,\n  sslFix,\n  printf,\n  LangMixin,\n}\n\nexport type LangMixin = {\n  _T?: any\n  sprintf?: any\n  textWithRTL?: any\n  formatCount?: any\n  textWithLTR?: any\n  sslFix?: any\n  printf?: any\n}\n","/* eslint-disable no-restricted-syntax */\n/* eslint-disable no-param-reassign */\nimport { getArgsFromUrl, initWebSensors, SensorSDKName, reportWebSensors, router } from '@badam/common-utils'\nimport { isBalootToLudo } from './func'\n// import sensors from 'sa-sdk-javascript'\n\n// export function initSa() {\n//   // 初始化 SDK\n//   sensors.init({\n//     show_log: true,\n//     server_url: 'https://sa.badambiz.com:10443/sa',\n//     is_track_single_page: true, // 单页面配置，默认开启，若页面中有锚点设计，需要将该配置删除，否则触发锚点会多触发 $pageview 事件\n//     use_client_time: true,\n//     send_type: 'beacon',\n//     heatmap: {\n//       // 是否开启点击图，default 表示开启，自动采集 $WebClick 事件，可以设置 'not_collect' 表示关闭。\n//       clickmap: 'default',\n//       // 是否开启触达图，not_collect 表示关闭，不会自动采集 $WebStay 事件，可以设置 'default' 表示开启。\n//       scroll_notice_map: 'not_collect'\n//     }\n//   })\n//   // 注册公共属性\n//   sensors.registerPage({\n//     current_url: window.location.href,\n//     // referrer: document.referrer\n//   })\n//   sensors.quick('autoTrack')\n// }\n\n// export function reportSa(event: string, jsonObj: any) {\n//   const v = JSON.stringify(jsonObj)\n//   console.log('reportSa>>', event, v)\n//   sensors.track(event, jsonObj)\n// }\n\nexport function initWebSa(serv_url: string) {\n  const sa_sdk_js = './sensorsdata.min.v1.js'\n  if (getArgsFromUrl('is_debug')) {\n    initWebSensors(SensorSDKName.TEST, false, 'beacon', serv_url, sa_sdk_js)\n  }\n  else {\n    initWebSensors(SensorSDKName.KSA, true, 'beacon', serv_url, sa_sdk_js)\n  }\n}\n\nexport function reportWebSa(event: string, jsonObj: any = {}) {\n  const defaults = {\n    sawa_device: getArgsFromUrl('uuid') || '',\n    $app_id: getArgsFromUrl('bundleid') || '',\n    $app_version: getArgsFromUrl('version_name') || '',\n  }\n  const params = Object.assign(defaults, jsonObj)\n  console.log('[reportSa]', event, params)\n  reportWebSensors(event, params)\n}\n\nexport function reportSa(event: string, jsonObj: any = {}) {\n  console.log('reportNative>>', event, jsonObj)\n  const v = Object.keys(jsonObj)\n    .map((k) => `${k}=${encodeURIComponent(jsonObj[k])}`)\n    .join('&')\n  const schema = isBalootToLudo ? 'sawaludo' : 'sawaksa'\n  window.location.href = `${schema}://${event}/?${v}`\n}\n\nexport function reportLoginClick(source: string) {\n  if (isBalootToLudo) {\n    report('h5_loginpage_elementclick', { element_name: source })\n    return new Promise((r) => setTimeout(r, 300))\n  }\n  reportSa('baloot_login_click', { source })\n  return new Promise((r) => setTimeout(r, 300))\n}\n\nexport function reportLoginPage() {\n  if (isBalootToLudo) {\n    report('h5_loginpage', {})\n    return new Promise((r) => setTimeout(r, 300))\n  }\n  return new Promise((r) => setTimeout(r, 0))\n}\n\nexport function reportLoginFail(source: string, reason: string) {\n  reportSa('baloot_login_fail', { source, reason })\n}\n\nexport function reportRevokeShow(baloot_uid: string) {\n  reportWebSa('h5_loginpage_baloot_cancellation_pop_show', {\n    type: 'baloot授权登录',\n    Baloot_uid: baloot_uid\n  })\n}\n\nexport function reportRevokeClick(element_name: string, baloot_uid: string) {\n  reportWebSa('h5_loginpage_baloot_cancellation_pop_click', {\n    type: 'baloot授权登录',\n    element_name,\n    Baloot_uid: baloot_uid\n  })\n}\n\nexport function report(eventName: string, fields = {}) {\n  const json = fields\n  const scheme = isBalootToLudo ? 'sawaludo' : 'sawaksa'\n  window.location.href = `${scheme}://sawaksa_login_event/?eventName=${eventName}&jsonData=${btoa(encodeURIComponent(JSON.stringify(json)))}`\n}\n","\n/* eslint-disable no-undef */\n/* eslint-disable camelcase */\nimport Vue from 'vue'\nimport { textWithRTL, _T } from '@@/utils/lang'\nimport '@@/assets/ar/css/login.scss'\nimport api from '@@/api'\nimport bridge from '@@/utils/bridge'\nimport { getArgsFromUrl, jumpSchema, isBalootToLudo } from '@@/utils/func'\nimport { reportLoginClick, reportLoginFail, reportLoginPage, reportSa } from '@@/utils/report'\n\nexport default Vue.extend({\n  components: {},\n  // created() {},\n  // beforeDestroy() {},\n  data() {\n    return {\n      loading: false,\n      isBalootToLudo,\n      // startTs: 0,\n    }\n  },\n  mounted() {\n    console.warn('in old mode >>', window.location.href)\n    this.bindEvent()\n    console.warn('isBalootToLudo', this.isBalootToLudo)\n    reportLoginPage()\n  },\n  methods: {\n    bindEvent() {\n      document.addEventListener('AppleIDSignInOnSuccess', (data) => {\n        console.log('Apple Succeed', data)\n      })\n      document.addEventListener('AppleIDSignInOnFailure', (error: any) => {\n        console.log('Apple Failed', error)\n        const reason = error.detail.error\n        reportLoginFail('baloot_apple', `APPLE_SERV FAIL ${reason}`)\n      })\n    },\n    async onPressApple() {\n      console.log(1, 'click apple')\n      await reportLoginClick('baloot_apple')\n      if (this.loading) {\n        return\n      }\n      this.loading = true\n      try {\n        const data = await AppleID.auth.signIn()\n        console.log(2, 'apple info', data)\n        if (!data || !data.authorization || !data.authorization.id_token) {\n          reportLoginFail('baloot_apple', 'APPLE_SERV FAIL NO TOKEN')\n          this.loading = false\n          return\n        }\n        const { code: apple_uid, id_token: apple_token } = data.authorization\n        this.doLoginApple(apple_uid, apple_token)\n      } catch (error) {\n        this.loading = false\n      }\n    },\n    async onPressFacebook() {\n      console.log(1, 'click facebook')\n      await reportLoginClick('baloot_fb')\n      if (this.loading) {\n        return\n      }\n      this.loading = true\n      FB.login(async (response: any) => {\n        console.log(2, 'facebook info', response)\n        if (!response.authResponse) {\n          reportLoginFail('baloot_fb', 'FB_SERV FAIL NO TOKEN')\n          this.loading = false\n          return\n        }\n        const { userID: fb_uid, accessToken: fb_token } = response.authResponse\n        this.doLoginFacebook(fb_uid, fb_token)\n      })\n    },\n    async doLoginFacebook(fb_uid: string, fb_token: string) {\n      const [success, accountResp] = await api.loginWithFacebook(fb_uid, fb_token)\n      console.log(3, accountResp)\n      this.loading = false\n      if (!success) {\n        reportLoginFail('baloot_fb', 'SAWA_SERV FAIL NOT 200')\n        ;(this as any).$toast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n      if (accountResp.result !== 0) {\n        const d: any = {\n          10001: textWithRTL(_T('您没有baloot账号，无法登录')),\n          20160: textWithRTL(_T('只支持在2021年10月14号前注册baloot账号登录，新注册的账号不支持')),\n        }\n        const message = d[accountResp.result] || accountResp.message\n        ;(this as any).$toast(message)\n        const e: any = {\n          10001: '无baloot账号',\n          20160: 'baloot账号登录，新注册的账号不支持',\n        }\n        const reportMsg = e[accountResp.result] || accountResp.message\n        reportLoginFail('baloot_fb', `SAWA_SERV FAIL(${accountResp.result}) ${reportMsg}`)\n        this.loading = false\n        return\n      }\n      this.refreshAccount(accountResp, 'baloot_fb')\n    },\n    async doLoginApple(apple_uid: string, apple_token: string) {\n      const [success, accountResp] = await api.loginWithApple(apple_uid, apple_token)\n      console.log(3, accountResp)\n      this.loading = false\n      if (!success) {\n        reportLoginFail('baloot_apple', 'SAWA_SERV FAIL NOT 200')\n        ;(this as any).$toast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n      if (accountResp.result !== 0) {\n        const d: any = {\n          10001: _T('您没有baloot账号，无法登录'),\n          20160: _T('只支持在2021年10月14号前注册baloot账号登录，新注册的账号不支持'),\n        }\n        const message = d[accountResp.result] || accountResp.message\n        ;(this as any).$toast(message)\n        const e: any = {\n          10001: '无baloot账号',\n          20160: 'baloot账号登录，新注册的账号不支持',\n        }\n        const reportMsg = e[accountResp.result] || accountResp.message\n        reportLoginFail('baloot_apple', `SAWA_SERV FAIL(${accountResp.result}) ${reportMsg}`)\n        this.loading = false\n        return\n      }\n      this.refreshAccount(accountResp, 'baloot_apple')\n    },\n    refreshAccount(accountResp: any, source: string) {\n      console.log(4, 'login ok', accountResp)\n      if (getArgsFromUrl('stay')) {\n        return\n      }\n      // #1\n      const { session_key, uid, icon_verify } = accountResp.data\n      const o = { session_key, uid, icon_verify }\n      const v = encodeURIComponent(JSON.stringify(o))\n      const schema = this.isBalootToLudo ? 'sawaludo' : 'sawaksa'\n      window.location.href = `${schema}://baloot_login/?baloot_acount=${v}&source=${source}`\n    },\n    onPressPrivacy() {\n      reportLoginClick('隐私政策')\n      const link = 'https://arabpk-game.badambiz.com/html/about_en.html'\n      window.location.href = link\n    },\n    onPressAgreement() {\n      reportLoginClick('服务条款')\n      const link = 'https://arabpk-game.badambiz.com/html/about_en.html'\n      window.location.href = link\n    },\n  },\n  computed: {\n    descV(): string {\n      return this.isBalootToLudo ?\n        _T('游客请在Baloot绑定账号才可在Jackaroo登录') : _T('游客请在Baloot绑定账号才可在Sawa登录')\n    }\n  }\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=54cec166&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54cec166\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login cf\",class:{ '-ludo': _vm.isBalootToLudo }},[_vm._m(0),(!_vm.isRegister)?_c('div',{staticClass:\"login__icon\"}):_vm._e(),(_vm.isRegister)?[_c('div',{staticClass:\"login__icon small\"}),_c('div',{staticClass:\"login__title\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm._T('创建baloot账号')))]),_c('div',{staticClass:\"login__desc_2\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm._T('请选择注册方式')))])]:_vm._e(),_c('div',{staticClass:\"login__facebookOutline\",on:{\"click\":_vm.onPressFacebook}},[_c('i',{staticClass:\"login__facebookIcon\"}),_c('i',{staticClass:\"login__facebookDesc\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"Login with Facebook\")])]),_c('div',{staticClass:\"login__apple\",on:{\"click\":_vm.onPressApple}},[_c('div',{staticClass:\"login__appleIcon\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"\")]),_c('div',{staticClass:\"login__appleDesc\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"Sign in with Apple\")])]),(!_vm.isRegister)?_c('div',{staticClass:\"login__desc\",attrs:{\"dir\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.descV)+\" \")]):_vm._e(),(!_vm.isRegister)?_c('div',{staticClass:\"login_create\",on:{\"click\":_vm.toCreate}},[_c('div',{staticClass:\"login_create_text\",attrs:{\"dir\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm._T('若没有baloot账号，点此创建'))+\" \")]),_c('div',{staticClass:\"login_create_icon\"})]):_vm._e(),_c('div',{staticClass:\"login__footer\"},[_c('div',{staticClass:\"login__link\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressPrivacy}},[_vm._v(_vm._s(_vm._T('用户协议')))]),_c('div',{staticClass:\"login__sign\",attrs:{\"dir\":\"auto\"}},[_vm._v(\"&\")]),_c('div',{staticClass:\"login__link\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressAgreement}},[_vm._v(_vm._s(_vm._T('隐私协议')))])]),(_vm.loading)?_c('div',{staticClass:\"loading\"}):_vm._e(),_vm._m(1)],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login__close\"},[_c('i')])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"hidden\"},[_c('i',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"i\")]),_c('b',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"b\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.show)?_c('div',{staticClass:\"common-modal\",class:_vm.className,on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.onPressMask.apply(null, arguments)}}},[_c('div',{staticClass:\"common-modal-slot\",on:{\"click\":() => {}}},[_c(_vm.curComp,_vm._b({tag:\"component\",attrs:{\"on-cancel\":_vm.onCancel}},'component',_vm.params,false)),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"cancel\",on:{\"click\":_vm.onCancel}})],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/* eslint-disable no-unused-expressions */\n/* eslint-disable @typescript-eslint/no-empty-function */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n// import { setRefreshEnable } from '@badam/common-utils'\nimport Vue, { Component } from 'vue'\n\nconst lockScreen = async (prod = 'sawa') => {\n  const obj = (window as any).JavaBridgeObj\n  if (obj && obj.enableRefresh) {\n    obj.enableRefresh(false)\n  }\n  const scrollEle = document.querySelector<HTMLElement>('.vscroll')! || document.scrollingElement\n  if (!scrollEle) {\n    return\n  }\n  const scrollTop = +scrollEle.scrollTop\n  scrollEle.style.cssText += `position:fixed;width:100%;top:-${scrollTop}px`\n}\n\nconst unlockScreen = async (prod = 'sawa') => {\n  const obj = (window as any).JavaBridgeObj\n  if (obj && obj.enableRefresh) {\n    obj.enableRefresh(true)\n  }\n  const scrollEle = document.querySelector<HTMLElement>('.vscroll')! || document.scrollingElement\n  if (!scrollEle) {\n    return\n  }\n  const scrollTop = parseInt(scrollEle.style.top, 10) || scrollEle.scrollTop\n  scrollEle.style.cssText += 'position:relative;width:100%;top:0'\n  scrollEle.scrollTop = Math.abs(scrollTop)\n  // console.log(scrollEle.scrollTop, scrollTop)\n}\n\nconst Modal = Vue.extend({\n  data() {\n    return {\n      show: false,\n      curComp: null as unknown as Component,\n      params: {} as any,\n      className: '',\n      isTop: false,\n      cancelable: true,\n      closeCb: () => {},\n      openTimeTs: 0,\n    }\n  },\n  mounted() {\n    // setRefreshEnable(false)\n  },\n  methods: {\n    onPressMask() {\n      if (this.cancelable) {\n        const now = Date.now()\n        const diff = now - this.openTimeTs\n        if (diff > 2500) {\n          this.onCancel()\n        } else {\n          setTimeout(() => {\n            this.onCancel()\n          }, 2500 - diff)\n        }\n      }\n    },\n    onCancel() {\n      this.show = false\n    },\n    showRefreshControllIfNeed: (isTop: any) => {\n      if ((window as any).kinoJsApi && (window as any).kinoJsApi.setRefreshEnable) {\n        ;(window as any).kinoJsApi.setRefreshEnable(isTop)\n      }\n      if ((window as any).JavaBridgeObj && (window as any).JavaBridgeObj.enableRefresh) {\n        ;(window as any).JavaBridgeObj.enableRefresh(isTop)\n      }\n    },\n  },\n  watch: {\n    show(n) {\n      console.log('show modal', n)\n      if (n) {\n        lockScreen()\n      } else {\n        unlockScreen()\n        this.closeCb()\n      }\n    },\n  },\n})\n\nconst showModal = (\n  component: Component,\n  params: any,\n  closeCb: () => void = () => {},\n  cancelable = true\n): any => {\n  const modal = new Modal({ el: document.createElement('div') })\n  const el = modal.$el\n  modal.curComp = component\n  modal.params = params\n  modal.cancelable = cancelable\n  modal.className = params.class || ''\n  document.body.appendChild(el)\n  modal.show = true\n  modal.closeCb = closeCb\n  modal.openTimeTs = Date.now()\n\n  return modal\n}\n\nexport { showModal }\n\nexport default Modal\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./modal.vue?vue&type=template&id=07b1f0d8\"\nimport script from \"./modal.vue?vue&type=script&lang=ts\"\nexport * from \"./modal.vue?vue&type=script&lang=ts\"\nimport style0 from \"./modal.vue?vue&type=style&index=0&id=07b1f0d8&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"dialogWrap\",attrs:{\"direction\":\"auto\"}},[_c('div',{staticClass:\"dialog\",attrs:{\"dir\":\"auto\"}},[(_vm.item.title)?_c('div',{staticClass:\"dialog__title\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm.textWithRTL(_vm.item.title)))]):_vm._e(),(_vm.item.subtitle)?_c('div',{staticClass:\"dialog__subtitle\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm.textWithRTL(_vm.item.subtitle)))]):_vm._e(),(_vm.item.content)?_c('div',{staticClass:\"dialog__content\",attrs:{\"dir\":\"auto\"},domProps:{\"innerHTML\":_vm._s(_vm.item.content)}}):_vm._e(),(_vm.item.confirmText)?_c('div',{staticClass:\"dialog__btn\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onConfirm}},[_c('i',{attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm.textWithRTL(_vm.item.confirmText)))])]):_vm._e(),(_vm.item.cancelText)?_c('div',{staticClass:\"dialog__btn cancel\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onCancel}},[_c('i',{attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm.textWithRTL(_vm.item.cancelText)))])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/* eslint-disable max-len */\n/* eslint-disable no-restricted-globals */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable @typescript-eslint/ban-types */\nimport Vue, { PropType } from 'vue'\n\nexport interface DialogParam {\n  title?: string\n  subtitle?: string\n  content?: string\n  confirmText?: string // 确认按钮的文案\n  confirmCallback?: Function // 确认按钮的事件\n  cancelText?: string // 确认按钮的文案\n  cancelCallback?: Function // 确认按钮的事件\n}\n\nexport default Vue.extend({\n  props: {\n    item: Object as PropType<DialogParam>,\n  },\n  components: {},\n  data() {\n    return {}\n  },\n  // mounted() {},\n  methods: {\n    onConfirm() {\n      if (this.item.confirmCallback) {\n        this.item.confirmCallback()\n      }\n      this.close()\n    },\n    onCancel() {\n      if (this.item.cancelCallback) {\n        this.item.cancelCallback()\n      }\n      this.close()\n    },\n    close() {\n      ;(this.$parent as any).show = false\n    },\n  },\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=09fdd8f2&scoped=true\"\nimport script from \"./Dialog.vue?vue&type=script&lang=ts\"\nexport * from \"./Dialog.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=09fdd8f2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09fdd8f2\",\n  null\n  \n)\n\nexport default component.exports","\n/* eslint-disable no-undef */\n/* eslint-disable camelcase */\n/* eslint-disable no-restricted-globals */\n/* eslint-disable padded-blocks */\n\nimport Vue from 'vue'\nimport { printf, sprintf, textWithLTR, _T } from '@@/utils/lang'\nimport '@@/assets/ar/css/login.scss'\nimport api, { loginWithFacebook2 } from '@@/api'\nimport { showModal } from '@@/components/modal/modal.vue'\nimport Dialog from '@@/components/modal/Dialog.vue'\nimport { getArgsFromUrl, handleApiResult } from '@badam/common-utils'\nimport { formatTs, unregisterRemind, setUrlParams, isBalootToLudo } from '@@/utils/func'\nimport { reportLoginClick, reportLoginFail, reportLoginPage, reportRevokeClick, reportRevokeShow } from '@@/utils/report'\n\nexport default Vue.extend({\n  components: {},\n  data() {\n    return {\n      loading: false,\n      isRegister: !!getArgsFromUrl('is_register'),\n      isBalootToLudo,\n    }\n  },\n\n  mounted() {\n    console.warn('Login2 [user_mode]')\n    localStorage.setItem('index_url', window.location.href)\n    this.bindEvent()\n    // this.showDialogTest() // @Td remove, for test\n    this.isRegister = !!getArgsFromUrl('is_register')\n    console.log('in user mode >>', window.location.href, this.isRegister)\n    reportLoginPage()\n  },\n  methods: {\n    _T,\n    toCreate() {\n      // location.href = `${location.href}&is_register=1`\n      const url = setUrlParams('is_register', '1')\n      location.href = url\n    },\n    bindEvent() {\n      document.addEventListener('AppleIDSignInOnSuccess', (data) => {\n        console.log('Apple Succeed', data)\n      })\n      document.addEventListener('AppleIDSignInOnFailure', (error: any) => {\n        console.log('Apple Failed', error)\n        const reason = error.detail.error\n        reportLoginFail('baloot_apple', `APPLE_SERV FAIL ${reason}`)\n      })\n    },\n    async onPressApple() {\n      console.log(1, 'click apple', location.href)\n      await reportLoginClick('baloot_apple')\n      if (this.loading) {\n        return\n      }\n      this.loading = true\n      try {\n        const data = await AppleID.auth.signIn()\n        console.log(2, 'apple info', data)\n        if (!data || !data.authorization || !data.authorization.id_token) {\n          reportLoginFail('baloot_apple', 'APPLE_SERV FAIL NO TOKEN')\n          this.loading = false\n          return\n        }\n        const { code: apple_uid, id_token: apple_token } = data.authorization\n        this.doLoginApple(apple_uid, apple_token, this.isRegister)\n      } catch (error) {\n        this.loading = false\n      }\n    },\n    async onPressFacebook() {\n      console.log(1, 'click facebook login2')\n      await reportLoginClick('baloot_fb')\n      if (this.loading) {\n        return\n      }\n      this.loading = true\n      FB.login((response: any) => {\n        console.log(2, 'facebook info', response)\n        if (!response.authResponse) {\n          reportLoginFail('baloot_fb', 'FB_SERV FAIL NO TOKEN')\n          this.loading = false\n          return\n        }\n        const { userID: fb_uid, accessToken: fb_token } = response.authResponse\n        this.doLoginFacebook(fb_uid, fb_token, this.isRegister)\n      })\n    },\n    async doLoginFacebook(fb_uid: string, fb_token: string, auto_create = false) {\n      const [success, accountResp] = await api.loginWithFacebook2(fb_uid, fb_token, auto_create)\n      console.log(3, accountResp)\n      this.loading = false\n      if (!success) {\n        reportLoginFail('baloot_fb', 'SAWA_SERV FAIL NOT 200')\n        ;(this as any).$toast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20193 && !accountResp.extra?.baloot_cancel) {\n          unregisterRemind(accountResp)\n          return\n        }\n        // 数据上报\n        const e: any = {\n          10001: '无baloot账号',\n          20160: 'baloot账号登录，新注册的账号不支持',\n        }\n        const reportMsg = e[accountResp.result] || accountResp.message\n        if (accountResp.extra && accountResp.extra.baloot_cancel) {\n          reportLoginFail('baloot_fb', 'baloot账号已申请注销')\n        }\n        else {\n          reportLoginFail('baloot_fb', `SAWA_SERV FAIL(${accountResp.result}) ${reportMsg}`)\n        }\n        // 错误弹窗\n        this.showDialog(accountResp, fb_uid, fb_token, 'fb')\n        return\n      }\n      this.refreshAccount(accountResp, 'baloot_fb', { uid: fb_uid, token: fb_token })\n    },\n    async doLoginApple(apple_uid: string, apple_token: string, auto_create = false) {\n      const [success, accountResp] = await api.loginWithApple2(apple_uid, apple_token, auto_create)\n      console.log(3, accountResp)\n      this.loading = false\n      if (!success) {\n        reportLoginFail('baloot_apple', 'SAWA_SERV FAIL NOT 200')\n        ;(this as any).$toast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20193 && !accountResp.extra?.baloot_cancel) {\n          unregisterRemind(accountResp)\n          return\n        }\n        // 数据上报\n        const e: any = {\n          10001: '无baloot账号',\n          20160: 'baloot账号登录，新注册的账号不支持',\n        }\n        const reportMsg = e[accountResp.result] || accountResp.message\n        if (accountResp.extra && accountResp.extra.baloot_cancel) {\n          reportLoginFail('baloot_apple', 'baloot账号已申请注销')\n        }\n        else {\n          reportLoginFail('baloot_apple', `SAWA_SERV FAIL(${accountResp.result}) ${reportMsg}`)\n        }\n        // 错误弹窗\n        this.showDialog(accountResp, apple_uid, apple_token, 'apple')\n        return\n      }\n      this.refreshAccount(accountResp, 'baloot_apple', { uid: apple_uid, token: apple_token })\n    },\n    refreshAccount(accountResp: any, source: string, p: { uid: string; token: string }) {\n      console.log(4, 'login ok', accountResp)\n      if (getArgsFromUrl('stay')) {\n        return\n      }\n      const { identities, user_info } = accountResp.data\n      // 只有1个身份的情况\n      if (user_info) {\n        // if (getArgsFromUrl('for_test')) { // @Td remove\n        //   user_info.baloot_cancel = true\n        //   user_info.baloot_uid = '0'\n        // }\n        const { session_key, uid, icon_verify, baloot_cancel, baloot_uid } = user_info\n        if (baloot_cancel) {\n          reportLoginFail(source, 'baloot账号已申请注销')\n          reportRevokeShow(baloot_uid)\n          showModal(Dialog, {\n            item: {\n              title: _T('登录失败'),\n              content: _T('该baloot账号已申请注销，若想授权登录sawa，需要撤销注销申请。是否撤销申请？'),\n              confirmText: _T('确定'),\n              cancelText: _T('取消'),\n              cancelCallback: () => {\n                reportRevokeClick('返回', baloot_uid)\n              },\n              confirmCallback: async () => {\n                reportRevokeClick('撤销申请', baloot_uid)\n                const res = await api.revokeBalootCancel(session_key)\n                if (handleApiResult(res)) {\n                  if (source === 'baloot_fb') {\n                    this.doLoginFacebook(p.uid, p.token, false)\n                  } else if (source === 'baloot_apple') {\n                    this.doLoginApple(p.uid, p.token, false)\n                  }\n                } else {\n                  const [, { data, toast }] = res\n                  ;(this as any).$toast(toast || _T('获取数据失败，请稍后重试'))\n                }\n              },\n            },\n          })\n          return\n        }\n        const o = { session_key, uid, icon_verify }\n        const v = encodeURIComponent(JSON.stringify(o))\n        const schema = this.isBalootToLudo ? 'sawaludo' : 'sawaksa'\n        window.location.href = `${schema}://baloot_login/?baloot_acount=${v}&source=${source}`\n        return\n      }\n      // 多个身份的情况\n      const b = (identities || []).map((e: any) => e.login_key)\n      const u = encodeURIComponent(JSON.stringify(b))\n      const schema = this.isBalootToLudo ? 'sawaludo' : 'sawaksa'\n      window.location.href = `${schema}://baloot_login/?identities=${u}&source=${source}`\n    },\n    showDialog(accountResp: any, uid: string, token: string, type: string) {\n      const { result, message, extra } = accountResp\n      // if (getArgsFromUrl('for_test')) { // @Td remove\n      //   extra.baloot_cancel = true\n      //   extra.baloot_uid = '0'\n      // }\n      if (result === 20310) {\n        showModal(Dialog, {\n          item: {\n            title: _T('创建账号'),\n            content: _T('你还没有baloot账号，是否马上创建账号并登录sawa？'),\n            confirmText: _T('确定'),\n            cancelText: _T('取消'),\n            confirmCallback: () => {\n              if (type === 'fb') {\n                this.doLoginFacebook(uid, token, true)\n              } else if (type === 'apple') {\n                this.doLoginApple(uid, token, true)\n              }\n            },\n          },\n        })\n        return\n      }\n      if (extra) {\n        const { session_key, baloot_cancel, baloot_uid } = extra\n        if (baloot_cancel) {\n          reportRevokeShow(baloot_uid)\n          showModal(Dialog, {\n            item: {\n              title: _T('登录失败'),\n              content: _T('该baloot账号已申请注销，若想授权登录sawa，需要撤销注销申请。是否撤销申请？'),\n              confirmText: _T('确定'),\n              cancelText: _T('取消'),\n              cancelCallback: () => {\n                reportRevokeClick('返回', baloot_uid)\n              },\n              confirmCallback: async () => {\n                reportRevokeClick('撤销申请', baloot_uid)\n                const res = await api.revokeBalootCancel(session_key)\n                if (handleApiResult(res)) {\n                  if (type === 'fb') {\n                    this.doLoginFacebook(uid, token, false)\n                  } else if (type === 'apple') {\n                    this.doLoginApple(uid, token, false)\n                  }\n                } else {\n                  const [, { data, toast }] = res\n                  ;(this as any).$toast(toast || _T('获取数据失败，请稍后重试'))\n                }\n              },\n            },\n          })\n          return\n        }\n      }\n\n      let reason = _T('账号登录失败，请重新登录。')\n\n      if (result === 20181) {\n        reason = _T('所选账号已被停用，无法登录该账号。请重新登录。')\n      } else if (result === 20001) {\n        const banTo = +message\n        if (banTo === -1) {\n          reason = _T('因涉嫌违规，你的账号被永久封禁。你无法再登录该账号。')\n        } else if (banTo > 0) {\n          reason = sprintf(\n            _T('因涉嫌违规，你的账号被封禁至%s，这段时间内你将无法登陆该账号。'),\n            `<i>${formatTs(banTo)}</i>`\n          )\n        }\n      }\n      //\n      showModal(Dialog, {\n        item: {\n          title: _T('登录失败'),\n          content: reason,\n          confirmText: _T('我知道了'),\n          confirmCallback: () => {\n            ;(window as any).location.href = localStorage.getItem('index_url')\n          },\n        },\n      })\n    },\n    showDialogTest() {\n      // this.showDialog(\n      //   {\n      //     result: 20001,\n      //     message: Math.floor(+new Date() / 1000),\n      //   },\n      //   '0000',\n      //   'ssss',\n      //   'apple'\n      // )\n\n      const type = 'fb'\n      const uid = 'xxxx'\n      const token = 'xxx'\n\n      showModal(Dialog, {\n        item: {\n          title: _T('创建账号'),\n          content: _T('你还没有baloot账号，是否马上创建账号并登录sawa？'),\n          confirmText: _T('确定'),\n          cancelText: _T('取消'),\n          confirmCallback: () => {\n            if (type === 'fb') {\n              this.doLoginFacebook(uid, token, true)\n            } else if (type === 'apple') {\n              this.doLoginApple(uid, token, true)\n            }\n          },\n        },\n      })\n    },\n    onPressPrivacy() {\n      reportLoginClick('隐私政策')\n      const link = 'https://arabpk-game.badambiz.com/html/about_en.html'\n      window.location.href = link\n    },\n    onPressAgreement() {\n      reportLoginClick('服务条款')\n      const link = 'https://arabpk-game.badambiz.com/html/about_en.html'\n      window.location.href = link\n    },\n  },\n  computed: {\n    descV(): string {\n      return this.isBalootToLudo ?\n        _T('游客请在Baloot绑定账号才可在Jackaroo登录') : _T('游客请在Baloot绑定账号才可在Sawa登录')\n    }\n  }\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login2.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login2.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./Login2.vue?vue&type=template&id=770fa55a&scoped=true\"\nimport script from \"./Login2.vue?vue&type=script&lang=ts\"\nexport * from \"./Login2.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Login2.vue?vue&type=style&index=0&id=770fa55a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"770fa55a\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable @typescript-eslint/no-empty-function */\nimport * as tsx from 'vue-tsx-support'\n\ntype GlobalRegister = {\n  ['v-loading']?: boolean\n}\n\nexport default class BaseComponent<P = unknown, E = unknown, S = unknown> extends tsx.Component<\n  P & GlobalRegister,\n  E,\n  S\n> {\n  mounted() {}\n\n  created() {}\n\n  render() {}\n}\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable camelcase */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable import/no-cycle */\nimport { awaitKinoJsApi, getArgsFromUrl } from './func'\n\n// let balootHeaders: any = null\n\nexport const fetchUserInfoAsync = () => {\n  let callback: any\n  let done = false\n  const p = new Promise((resolve) => {\n    callback = (userInfo: unknown) => {\n      if (!done) {\n        resolve(userInfo)\n      }\n      setTimeout(() => {\n        resolve({ open_id: '' })\n        done = true\n      }, 1000)\n    }\n  })\n  if ((window as any).kinoJsApi) {\n    ;(window as any).kinoJsApi.getUserInfo(callback)\n  } else {\n    callback({})\n  }\n  return p\n}\n\nconst initPay = () => {\n  try {\n    ;(window as any).kinoJsApi.initPay && (window as any).kinoJsApi.initPay(true)\n  } catch (e) {\n    //\n  }\n}\n\nconst isAudienceClient = () => {\n  // return true\n  if (!(window as any).kinoJsApi) {\n    return true\n  }\n  return !!(window as any).kinoJsApi.initPay\n}\n\nconst userLogin = () => {\n  let callback: any\n  const p = new Promise((resolve) => {\n    callback = resolve\n  })\n  if ((window as any).kinoJsApi) {\n    ;(window as any).kinoJsApi.userLogin(callback)\n  } else {\n    callback({})\n  }\n  return p\n}\n\nexport const toLiveRoom = (roomId: any) => {\n  if (!(window as any).kinoJsApi) {\n    return\n  }\n  if (!roomId) {\n    return\n  }\n  const from = getArgsFromUrl('from')\n  if (from === 'streamer') {\n    return\n  }\n  ;(window as any).kinoJsApi.toLiveRoom({\n    roomId,\n    pop: false,\n    from: 'web',\n  })\n}\n\nexport const reportSa = (eventName: string, eventDict: any = {}) => {\n  if (!(window as any).kinoJsApi || !(window as any).kinoJsApi.reportSa) {\n    return\n  }\n  ;(window as any).kinoJsApi.reportSa(eventName, {\n    ops: eventDict,\n  })\n}\n\nexport const goToUser = (item: any) => {\n  if ((window as any).JavaBridgeObj && item && (item.id || item.uid)) {\n    ;(window as any).JavaBridgeObj.launchUserPage(parseInt(item.id || item.uid, 10))\n  }\n}\n\n// 判断js bridge callback 是否支持\nexport const isSupport = () => {\n  let sdk_support_flag = false\n  return async (): Promise<boolean> => {\n    if (!sdk_support_flag) {\n      // 是否为app环境\n      const isInApp = await awaitKinoJsApi()\n      if (isInApp) {\n        const run = (): Promise<boolean> => {\n          let callback: any\n          let done = false\n          const p: Promise<boolean> = new Promise((resolve) => {\n            callback = () => {\n              if (!done) {\n                // Android 5以下不支持\n                sdk_support_flag = true\n                resolve(true)\n              }\n              setTimeout(() => {\n                resolve(false)\n                done = true\n              }, 500)\n            }\n          })\n          if ((window as any).kinoJsApi && (window as any).kinoJsApi.getUserInfo) {\n            ;(window as any).kinoJsApi.getUserInfo(callback)\n          } else {\n            callback({})\n          }\n          return p\n        }\n        return run()\n      }\n      return false\n    }\n    return true\n  }\n}\n\nexport const setRefreshEnable = (b = true) => {\n  if ((window as any).kinoJsApi && (window as any).kinoJsApi.setRefreshEnable) {\n    ;(window as any).kinoJsApi.setRefreshEnable(b)\n  }\n  if ((window as any).JavaBridgeObj && (window as any).JavaBridgeObj.enableRefresh) {\n    ;(window as any).JavaBridgeObj.enableRefresh(b)\n  }\n}\n\nexport const jumpUserDialog = (uid: string) => {\n  if (!(window as any).kinoJsApi || !(window as any).kinoJsApi.router) {\n    return\n  }\n  if (!uid) {\n    return\n  }\n  const link = `zvod://badambiz/userDialog/?uid=uid_${uid}&from=h5live-club-vs`\n  ;(window as any).kinoJsApi.router({ action: link })\n}\n\nexport const jumpUserProfile = (uid: string) => {\n  if (!(window as any).kinoJsApi || !(window as any).kinoJsApi.router) {\n    return\n  }\n  if (!uid) {\n    return\n  }\n  const link = `zvod://badambiz/user_info/?uid=${uid}&from=h5live-club-vs`\n  ;(window as any).kinoJsApi.router({ action: link })\n}\n\nexport const jumpOfficialChannel = () => {\n  if (!(window as any).kinoJsApi || !(window as any).kinoJsApi.router) {\n    return\n  }\n  const link = 'zvod://badamlive/toOfficialChannel/'\n  ;(window as any).kinoJsApi.router({ action: link })\n}\n\nexport const router = (link: string) => {\n  if (!(window as any).kinoJsApi || !(window as any).kinoJsApi.router) {\n    return\n  }\n  ;(window as any).kinoJsApi.router({ action: link })\n}\n\nexport const isIOS = getArgsFromUrl('platform') === 'iOS'\n\nexport const isSawa = () => !!(window as any).JavaBridgeObj\nexport const isLive = () => !!(window as any).kinoJsApi\n\nexport const ready = async () => {\n  if (isIOS) {\n    return true\n  }\n  if (isSawa()) {\n    return true\n  }\n  try {\n    await awaitKinoJsApi()\n    await isSupport()\n  } catch (e) {\n    return false\n  }\n  return true\n}\n\nexport const sawaEnableChromeDebug = () => {\n  if (!(window as any).JavaBridgeObj || !(window as any).JavaBridgeObj.setDebug) {\n    return\n  }\n  ;(window as any).JavaBridgeObj.setDebug(true)\n}\n\nfunction initSawaSDK() {\n  if (!(window as any).JavaBridgeObj) { return }\n  ;(window as any).JavaBridgeObj.__actions__ = {}\n  ;(window as any).JavaBridgeObj.__id__ = 0\n}\n\nfunction registerBridgeCbId(cb: any) {\n  const id = (window as any).JavaBridgeObj.__id__ += 1\n  ;(window as any).JavaBridgeObj.__actions__[id] = cb\n  return id\n}\n\nfunction getBalootHeadersAsync(): Promise<any> {\n  const v = {\n    'x-cli-id': getArgsFromUrl('uuid') || '',\n    'x-cli-ve': getArgsFromUrl('version_code') || '',\n    'x-cli-pl': 'ios',\n  }\n  return Promise.resolve(v)\n}\n// function getBalootHeadersAsync(): Promise<any> {\n//   if (!(window as any).JavaBridgeObj || !(window as any).JavaBridgeObj.getBalootLoginParam) {\n//     return Promise.resolve({ })\n//   }\n//   if (balootHeaders) { return Promise.resolve(balootHeaders) }\n//   const p = new Promise((resolve) => {\n//     const id = registerBridgeCbId((resp: any) => {\n//       console.log('getBalootLoginParam >>', JSON.stringify(resp))\n//       const ret = {\n//         'x-cli-id': resp.uuid,\n//         'x-cli-ve': resp.version_code,\n//         'x-cli-pl': 'iOS',\n//         // 'x-cli-ch': App Channel\n//         // 'x-cli-pn': App PACKAGE NAME\n//         // 'x-cli-la': App Lang\n//       }\n//       balootHeaders = ret\n//       resolve(ret)\n//     })\n//     ;(window as any).JavaBridgeObj.getBalootLoginParam(id)\n//   })\n//   return p\n// }\n\nexport default {\n  isLive,\n  isSawa,\n  isIOS,\n  isAudienceClient,\n  isSupport,\n  fetchUserInfoAsync,\n  initPay,\n  userLogin,\n  toLiveRoom,\n  reportSa,\n  goToUser,\n  setRefreshEnable,\n  jumpUserDialog,\n  jumpUserProfile,\n  jumpOfficialChannel,\n  router,\n  ready,\n  initSawaSDK,\n  getBalootHeadersAsync,\n}\n\nexport const BridgeMixin = {\n  methods: {\n    isAudienceClient,\n    fetchUserInfoAsync,\n    isSupport,\n    initPay,\n    userLogin,\n    goToUser,\n    toLiveRoom,\n    reportSa,\n  },\n}\n\nexport type BridgeMixin = {\n  isAudienceClient?: any\n  fetchUserInfoAsync?: any\n  isSupport?: any\n  initPay?: any\n  userLogin?: any\n  goToUser?: any\n  toLiveRoom?: any\n  reportSa?: any\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\ninterface StoreState {\n  ready: boolean\n  actStartTs: number\n  actEndTs: number\n}\n\nexport default new Vuex.Store({\n  state: {\n    ready: false,\n    actStartTs: +new Date() - 7 * 24 * 3600 * 1000,\n    actEndTs: +new Date() + 7 * 24 * 3600 * 1000,\n  },\n  actions: {},\n  modules: {},\n  mutations: {\n    setReady(state: StoreState, ready: boolean) {\n      state.ready = ready\n    },\n    setActInfo(state: StoreState, info: any) {\n      const { actStartTs, actEndTs } = info\n      state.actStartTs = actStartTs\n      state.actEndTs = actEndTs\n    },\n  },\n})\n","import { getArgsFromUrl } from '@@/utils/func'\n\nconst v = (val: any, defaultVal: any) => {\n  if (val === undefined) {\n    return defaultVal\n  }\n  return val\n}\n\nconst useMockAuto = !(window as any).kinoJsApi || !(window as any).JavaBridgeObj\n\nconst conf = {\n  useLog: v(getArgsFromUrl('use_log'), false),\n  useMock: v(getArgsFromUrl('use_mock'), useMockAuto),\n  isDebug: v(getArgsFromUrl('is_debug'), false),\n  showAppBar: getArgsFromUrl('show') === '0',\n  clientTs: v(getArgsFromUrl('client_ts'), false), // 是否使用客户端时间，默认否 会校准服务器时间\n}\n\nexport const log = (...args: any) => {\n  if (!conf.useLog) {\n    return\n  }\n  console.log(...args)\n}\n\nexport default conf\n","// import moment from 'moment'\n\n/// sync serv ts\nlet tsDelta: number | null = null\n\nexport function getSysTs(): number {\n  const cliTs = Math.floor(Date.now() / 1000)\n  if (tsDelta === null) {\n    // console.warn('Utils.getSysTs but tsDelta is null')\n  }\n  return (cliTs + (tsDelta == null ? 0 : tsDelta)) * 1000\n}\n\nexport function updateTsDelta(sysTs: number): void {\n  const cliTs = Math.floor(Date.now() / 1000)\n  tsDelta = sysTs - cliTs\n}\n\n// to:: YYYY/MM/DD HH:MM:SS\nexport const getCountDownHHMMSS = (to: string | number, nowTs: number) => {\n  let rest = 0\n  if (typeof to === 'string') {\n    const [YMD, HMS] = to.split(' ')\n    const toYear = YMD.split('/')[0]\n    const toMonth = YMD.split('/')[1]\n    const toDay = YMD.split('/')[2]\n    const toHour = HMS.split(':')[0]\n    const toMin = HMS.split(':')[1]\n    const toSec = HMS.split(':')[2]\n    const endtime = new Date(`${toYear}/${toMonth}/${toDay} ${toHour}:${toMin}:${toSec}`)\n    rest = +endtime - nowTs\n  } else if (typeof to === 'number') {\n    rest = to - nowTs\n  }\n  if (rest > 0) {\n    const dd: any = Math.floor(rest / (1000 * 3600 * 24))\n    const restHH = rest - dd * (1000 * 3600 * 24)\n    let hh: any = Math.floor(restHH / (1000 * 3600))\n    const restMM = rest - dd * (1000 * 3600 * 24) - hh * (1000 * 3600)\n    let mm: any = Math.floor(restMM / (1000 * 60))\n    const restSS = rest - dd * (1000 * 3600 * 24) - hh * (1000 * 3600) - mm * (1000 * 60)\n    let ss: any = Math.floor(restSS / 1000)\n    // dd = dd < 10 ? `0${dd}` : `${dd}`\n    hh = dd * 24 + hh\n    hh = hh < 10 ? `0${hh}` : `${hh}`\n    mm = mm < 10 ? `0${mm}` : `${mm}`\n    ss = ss < 10 ? `0${ss}` : `${ss}`\n    return [hh, mm, ss]\n  }\n  return ['00', '00', '00']\n}\n\nexport const isOverDate = (end: any) => {\n  const now = getSysTs()\n  return Math.round(now / 1000) > end\n}\n\nexport const getCurDay = () => {\n  const now = Math.round(getSysTs() / 1000)\n  // return moment.unix(now).format('YYYYMMDD')\n}\n","import { Component } from 'vue-property-decorator'\nimport Vue from 'vue'\nimport styles from '@@/assets/ar/css/app.module.scss'\nimport loadingDirective from '@@/components/common/loading/directive'\nimport { registryToast } from '@@/components/ui/toast.vue'\nimport Login from '@@/components/login'\nimport Login2 from '@@/components/login/Login2'\nimport { getArgsFromUrl } from '@badam/common-utils'\nimport BaseComponent from './components/base'\nimport { LangMixin, _T } from './utils/lang'\nimport bridge, { BridgeMixin, isLive, setRefreshEnable } from './utils/bridge'\nimport { throttle, convertTsx } from './utils/func'\nimport store from './store/index'\nimport conf from './conf'\nimport { getServTs } from './api'\nimport { updateTsDelta } from './utils/time'\nimport '@@/assets/ar/css/login.scss'\n\nVue.mixin(LangMixin)\nVue.mixin(BridgeMixin)\nVue.mixin({\n  computed: {\n    ready(): boolean {\n      return store.state.ready\n    },\n  },\n})\nVue.directive('loading', loadingDirective as any)\nregistryToast()\n\ninterface LoginProps {}\n\nconst Login1Comp = convertTsx<LoginProps>(Login)\nconst Login2Comp = convertTsx<LoginProps>(Login2)\nconst LoginComp = getArgsFromUrl('user_mode') === '1' ? Login2Comp : Login1Comp\nconsole.warn('>>>>', getArgsFromUrl('user_mode'), getArgsFromUrl('user_mode') === '1')\n\n@Component({})\nexport default class App extends BaseComponent {\n  created() {\n    bridge.initSawaSDK()\n  }\n\n  onClickApp() {\n    // console.warn('onClick app')\n    // JavaBridgeObj.setDebug(true)\n    // JavaBridgeObj.router('sawa://friend_square')\n  }\n\n  onScroll = throttle(() => {\n    if (!this.$refs || !this.$refs.scroller) {\n      return\n    }\n    const { scrollTop } = this.$refs.scroller as any\n    const isTop = scrollTop < 10\n    this.showRefreshControllIfNeed(isTop)\n  }, 30)\n\n  showRefreshControllIfNeed = (isTop: any) => {\n    setRefreshEnable(isTop)\n  }\n\n  async syncServTsIfNeed() {\n    if (conf.clientTs) {\n      return\n    }\n    if (isLive()) {\n      const servTs = (await getServTs()) as any\n      updateTsDelta(servTs)\n    }\n  }\n\n  render(): any {\n    return (\n      <div\n        id={styles.app}\n        ref=\"scroller\"\n        onScroll={this.onScroll}\n        // onClick={this.onClickApp}\n      >\n        <LoginComp />\n      </div>\n    )\n  }\n}\n","import { FirebaseApp, initializeApp } from 'firebase/app'\nimport { Analytics, getAnalytics, logEvent } from 'firebase/analytics'\nimport { getPerformance, trace } from 'firebase/performance'\nimport {\n  RemoteConfig,\n  Value,\n  getRemoteConfig,\n  getValue,\n  fetchAndActivate,\n} from 'firebase/remote-config'\n\nclass FirebaseManager {\n  static instance: FirebaseManager\n\n  private app: FirebaseApp | undefined\n\n  private analytics: Analytics | undefined\n\n  private remoteConfig: RemoteConfig | undefined\n\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new FirebaseManager()\n    }\n    return this.instance\n  }\n\n  init() {\n    if ((process.env as any).VUE_APP_FLAVOR === 'are') {\n      // return\n    }\n    let firebaseConfig\n    if ((process.env as any).VUE_APP_ENV === 'development') {\n      firebaseConfig = {\n        apiKey: 'AIzaSyBlR0QK--SjqMqihBd03ARBzfuZ3x1euzo',\n        authDomain: 'badamoyundixim.firebaseapp.com',\n        databaseURL: 'https://badamoyundixim.firebaseio.com',\n        projectId: 'badamoyundixim',\n        storageBucket: 'badamoyundixim.appspot.com',\n        messagingSenderId: '532022495714',\n        appId: '1:532022495714:web:a92f2dda69b205e99fd1bb',\n        measurementId: 'G-SHYPRRS1YC',\n      }\n    } else {\n      firebaseConfig = {\n        apiKey: 'AIzaSyBlR0QK--SjqMqihBd03ARBzfuZ3x1euzo',\n        authDomain: 'badamoyundixim.firebaseapp.com',\n        databaseURL: 'https://badamoyundixim.firebaseio.com',\n        projectId: 'badamoyundixim',\n        storageBucket: 'badamoyundixim.appspot.com',\n        messagingSenderId: '532022495714',\n        appId: '1:532022495714:web:2a3620b2f1f41d319fd1bb',\n        measurementId: 'G-8L1XP304KR',\n      }\n    }\n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig)\n    this.app = app\n    this.analytics = getAnalytics(app)\n    this.remoteConfig = getRemoteConfig(app)\n    const perf = getPerformance(app)\n    ;(window as any).firebasePerformanceTrace = function t(p: any) {\n      return trace(perf, p)\n    }\n    ;(window as any).reportToFirebase = (name: string, data: any) => {\n      //\n    }\n  }\n\n  async reportEvent(event: string, o: any) {\n    try {\n      if (this.analytics) logEvent(this.analytics as Analytics, event, o)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  async getValueFromConfig(key: string) {\n    if (this.remoteConfig) {\n      const bl = await fetchAndActivate(this.remoteConfig)\n      //   if (bl) {\n      const val = getValue(this.remoteConfig, key)\n      return val.asString()\n      //   }\n    }\n    return null\n  }\n}\n\nexport default FirebaseManager\n","/* eslint-disable import/prefer-default-export */\nimport { ref } from 'vue'\n\nfunction createLocalStorageManager() {\n  const reactiveStorageMap = ref({} as any)\n\n  function get(key: any): any | null {\n    const value = reactiveStorageMap.value[key]\n    if (!value) {\n      const v = localStorage.getItem(key)\n      try {\n        if (v) {\n          const value = JSON.parse(decodeURIComponent(atob(v)))\n          reactiveStorageMap.value[key] = value\n          return value\n        }\n      } catch (e) {\n        // throwError({ err: '解key失败', data: key })\n      }\n      return null\n    }\n    return value\n  }\n\n  function set(key: any, value: any) {\n    try {\n      const v = btoa(encodeURIComponent(JSON.stringify(value)))\n      localStorage.setItem(key, v)\n      reactiveStorageMap.value[key] = value\n    } catch (e) {\n      // throwError({ err: 'set key-value失败', data: { key, value } })\n    }\n  }\n  return function manager() {\n    return {\n      get,\n      set,\n    }\n  }\n}\n\nexport const useLocalStorage = createLocalStorageManager()\n","/* eslint-disable import/prefer-default-export */\nconst STORAGE_KEY_PREFIX = 'sawa_ow_'\n\nexport const LOCAL_STORAGE_KEY = {\n  上次使用过的API_BASE: `${STORAGE_KEY_PREFIX}last_use_api_base`,\n  上次使用过的神策域名: `${STORAGE_KEY_PREFIX}last_use_sensors_base`,\n  备用apilist: `${STORAGE_KEY_PREFIX}backup_api_list`,\n  备用神策list: `${STORAGE_KEY_PREFIX}backup_sensors_list`,\n}\n","/* eslint-disable no-underscore-dangle */\nimport { handleApiResult, api, getArgsFromUrl, setStorage, getStorage } from '@badam/common-utils'\nimport axios from 'axios'\nimport FirebaseManager from './firebase-manager'\nimport { useLocalStorage } from './local-storage-manager'\nimport { LOCAL_STORAGE_KEY } from './local-storage-manager/consts'\nimport { initWebSa } from './report'\n\nconst LOG_TAG = 'domain-dial'\n\nexport enum DialType {\n  神策 = 1,\n  API = 2,\n}\n\nexport function getArgs(k: string) {\n  const v = getArgsFromUrl(k)\n  if (v) {\n    setStorage(k, v)\n    return v\n  } else {\n    const _v = getStorage(k)\n    return _v\n  }\n}\n\nexport function setApiBaseUrl(url: string) {\n  if (url) {\n    if (getArgsFromUrl('is_debug')) {\n      return\n    }\n    axios.defaults.baseURL = url\n    api.getAxiosInstance().defaults.baseURL = axios.defaults.baseURL\n  }\n}\n\nexport async function getFirebaseConfig(): Promise<string | null> {\n  return FirebaseManager.getInstance().getValueFromConfig('ow_conf')\n}\n\nconst dial_timeout = 5000\n\nexport async function dailUrls(urls: string[], type: DialType): Promise<string> {\n  const promise: Promise<string> = new Promise((r) => {\n    for (let i = 0; i < urls.length; i += 1) {\n      const url = urls[i]\n      if (type === DialType.API) {\n        dialGoPk(url).then((res) => {\n          if (res) {\n            r(url)\n          }\n        })\n      } else if (type === DialType.神策) {\n        dialSensors(url).then((res) => {\n          if (res) {\n            r(url)\n          }\n        })\n      }\n    }\n  })\n  const timeout: Promise<string> = new Promise((r) =>\n    setTimeout(() => {\n      r('')\n    }, dial_timeout)\n  )\n  return Promise.race([promise, timeout])\n}\n\nfunction resolveApiBase() {\n  const base = getArgs('api_base')\n  if (base) {\n    const v = decodeURIComponent(decodeURIComponent(base))\n    const u = new URL(v).host\n    const u2 = u.slice(-1) === '/' ? u : `${u}/`\n    return `${new URL(v).protocol}//${u2}`\n  }\n  return process.env.VUE_APP_ENV === 'development' || getArgs('is_debug')\n    ? 'https://test02-pk.badambiz.com/'\n    : 'https://gif.applecdn.cloud/'\n}\n\nexport async function dialGoPk(url: string): Promise<string> {\n  const res = await api.get(`https://${url}/api/sys/h5_info`, {})\n  return res[0] ? url : ''\n}\n\nexport async function dial(urls: string[], type: DialType) {\n  const ls = useLocalStorage()\n  if (type === DialType.API) {\n    const res = await dailUrls(urls, DialType.API)\n    if (res) {\n      ls.set(LOCAL_STORAGE_KEY.上次使用过的API_BASE, res)\n      setApiBaseUrl(`https://${res}/`)\n    } else {\n      setApiBaseUrl(resolveApiBase())\n    }\n  }\n  else if (type === DialType.神策) {\n    const res = await dailUrls(urls, DialType.神策)\n    if (res) {\n      ls.set(LOCAL_STORAGE_KEY.上次使用过的神策域名, res)\n      const sa_url = `https://${res}/sa`\n      initWebSa(sa_url)\n    }\n  }\n}\n\nexport async function dialSensors(url: string): Promise<string> {\n  const res = await api.get(`https://${url}/api/gm/hii`, {})\n  return res[0] ? url : ''\n}\n\nexport function dial2(go_pk: string[] | null, se: string[] | null) {\n  const ls = []\n  if (go_pk) {\n    ls.push(dial(go_pk, DialType.API))\n  }\n  if (se) {\n    ls.push(dial(se, DialType.神策))\n  }\n  return Promise.all(ls)\n}\n\nexport async function getConfigAndDial(): Promise<boolean> {\n  const ls = useLocalStorage()\n  const conf = await getFirebaseConfig()\n  if (conf) {\n    const o = JSON.parse(conf)\n    const go_pk: string[] = o.go_pk\n    const se: string[] = o.se\n    console.log(LOG_TAG, 'conf', go_pk)\n    ls.set(LOCAL_STORAGE_KEY.备用apilist, go_pk)\n    ls.set(LOCAL_STORAGE_KEY.备用神策list, se)\n    await dial2(go_pk, se)\n    return true\n  } else {\n    const go_pk = ls.get(LOCAL_STORAGE_KEY.备用apilist)\n    const se = ls.get(LOCAL_STORAGE_KEY.备用神策list)\n    await dial2(go_pk, se)\n    return true\n  }\n}\n","/* eslint-disable import/prefer-default-export */\nimport Vue from 'vue'\nimport 'vue-tsx-support/enable-check'\nimport App from './App'\nimport store from './store'\nimport { calculateWindow2, initAppleLogin, loadVConsoleIfNeed, isBalootToLudo } from './utils/func'\nimport { initErrorHandler } from './utils/event'\nimport { initWebSa } from './utils/report'\nimport { getConfigAndDial } from './utils/dial'\nimport FirebaseManager from './utils/firebase-manager'\n\nVue.config.productionTip = false\n\nexport const initBloot = async () => {\n  await FirebaseManager.getInstance().init()\n  await getConfigAndDial()\n\n  initAppleLogin()\n\n  initErrorHandler()\n\n  calculateWindow2()\n\n  loadVConsoleIfNeed()\n\n  if (isBalootToLudo) {\n    document.body.classList.add('-ludo')\n  }\n\n  new Vue({\n    store,\n    render: (h) => h(App),\n  }).$mount('#app')\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('App')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component } from 'vue-property-decorator'\nimport { BaseComponent, BaseView } from '@badam/vue-components'\n\ninterface Props {}\n\n@Component({})\nclass App extends BaseComponent<Props> {\n  render() {\n    return (\n      <BaseView id=\"app\">\n        <keep-alive>\n          <router-view></router-view>\n        </keep-alive>\n      </BaseView>\n    )\n  }\n}\n\nexport default App\n","\nimport Vue from 'vue'\nimport App from './App'\n\nexport default Vue.extend({\n  components: { App },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=261a6bd6\"\nimport script from \"./main.vue?vue&type=script&lang=ts\"\nexport * from \"./main.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login-c\"},[(_vm.sdkLoaded)?[_c('div',{staticClass:\"sawa-logo\"}),_c('div',{staticClass:\"message2\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_vm._T('登录成功后即可用这个sawa账号访问Diwania')))]),_c('div',{staticClass:\"btn apple-btn\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressApple}},[_vm._v(\" Sign in with Apple \"),_c('div',{staticClass:\"icon apple-icon\"})]),_c('div',{staticClass:\"ggbtn\",on:{\"click\":_vm.onPressGoogle}},[_c('div',{attrs:{\"id\":\"google-login-btn\"}}),_vm._m(0)]),_c('div',{staticClass:\"btn facebook-btn\",attrs:{\"dir\":\"auto\"},on:{\"click\":_vm.onPressFacebook}},[_vm._v(\" Facebook \"),_c('div',{staticClass:\"icon facebook-icon\"})]),_c('div',{staticClass:\"btn mobile-btn phone\",attrs:{\"to\":\"/mobile\",\"dir\":\"auto\"},on:{\"click\":_vm.onPhonePress}},[_vm._v(\" Mobile Phone \"),_c('div',{staticClass:\"icon phone-icon\"})]),_c('div',{staticClass:\"policy\",attrs:{\"dir\":\"auto\"},domProps:{\"innerHTML\":_vm._s(_vm.policy)}}),(_vm.loading)?_c('LoadingComp2'):_vm._e()]:[_c('div',{staticClass:\"empty\"})]],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"btn google-btn\",attrs:{\"dir\":\"auto\"}},[_vm._v(\" Google \"),_c('div',{staticClass:\"icon google-icon\"})])\n}]\n\nexport { render, staticRenderFns }","\n/* eslint-disable global-require */\n/* eslint-disable @typescript-eslint/no-var-requires */\n/* eslint-disable camelcase */\n/* eslint-ignore */\n\nimport Vue from 'vue'\nimport { _T, getArgsFromUrl, getSysTs, sprintf } from '@badam/common-utils'\nimport { showToast } from '@d/components/toast/toast.vue'\nimport store from '@d/store'\nimport { loginWithApple, loginWithFacebook, loginWithGoogle } from '@d/api'\nimport { Events, reportEvent, reportWebSaEvent } from '@d/event'\nimport {\n  CLIENT_ID,\n  getSub,\n  refreshAccount,\n  showBanToast,\n  unregisterRemind,\n  onDocumentClick,\n} from '@d/utils'\nimport { showModal } from '@d/components/base/modal/modal.vue'\nimport { sleep } from '@d/utils/dial'\nimport { callbackToClient, goToMobileWebview, isTargetVersion } from '@d/utils/new-login'\nimport CreateModal from './create-modal/index.vue'\n\ndeclare let AppleID: any\ndeclare let FB: any\n\nexport default Vue.extend({\n  // eslint-disable-next-line vue/no-unused-components\n  components: { CreateModal },\n  data() {\n    return {\n      loading: false,\n      sdkLoaded: true,\n      googleSDKReadyed: false,\n      codeClient: null as any,\n      use_new_google: true,\n    }\n  },\n  mounted() {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    //\n    this.onTraceGoogleClick()\n    const isFirst = localStorage.getItem('firstCome')\n    if (isFirst) {\n      reportEvent(Events.h5_loginpage, {\n        is_first_time: false,\n      })\n    } else {\n      reportEvent(Events.h5_loginpage, {\n        is_first_time: true,\n      })\n      localStorage.setItem('firstCome', '1')\n    }\n    if (getArgsFromUrl('is_refresh')) {\n      this.$router.push({ name: 'Mobile' })\n    }\n    this.onGoogleSDKReady()\n  },\n  computed: {\n    isDebug() {\n      return getArgsFromUrl('is_debug')\n    },\n    googleLoad() {\n      return store.state.googleLoad\n    },\n    policy() {\n      const src1 = 'https://isawa.badambiz.com/html/user_agreement_ksa.html'\n      const src2 = 'https://isawa.badambiz.com/html/privacy_policy_ksa.html'\n      return sprintf(\n        _T('点击登录意味着你已经同意遵守{appname}的{terms_of_service}和{privacy_policy}'),\n        {\n          appname: 'Sawa',\n          terms_of_service: `<a href=${src1} class='a'>${_T('服务条款')}</a>`,\n          privacy_policy: `<a href=${src2} class='a'>${_T('隐私政策')}</a>`,\n        }\n      )\n    },\n  },\n  watch: {\n    googleLoad(newValue, oldValue) {\n      if (newValue) {\n        this.onGoogleSDKReady()\n      }\n    },\n  },\n  methods: {\n    _T,\n    onGoogleSDKReady() {\n      if (this.googleSDKReadyed) return\n      this.googleSDKReadyed = true\n      this.attachSignin()\n      console.warn('[google attached]')\n      setTimeout(() => {\n        this.sdkLoaded = true\n      }, 100)\n    },\n    async onPressApple() {\n      try {\n        this.loading = true\n        reportWebSaEvent(Events.h5_loginpage_elementclick, {\n          element_name: 'apple',\n        })\n        const data = await AppleID.auth.signIn()\n        if (!data || !data.authorization || !data.authorization.id_token) {\n          this.loading = false\n          reportEvent(Events.user_login_report_failed, {\n            source: 'sawa',\n            error_code: `获取apple token失败`,\n            error_content: '获取apple token失败',\n            is_sawaapp_authorize: false,\n            h5_type: 'apple',\n            type: '登录',\n            h5_scene: 'get_token',\n          })\n          return\n        }\n\n        const { code: apple_uid, id_token: apple_token } = data.authorization\n        const user_id = getSub(apple_token)\n        this.loading = false\n        this.doLoginApple(user_id, apple_token)\n      } catch (error) {\n        this.loading = false\n      }\n    },\n    onTraceGoogleClick() {\n      // onDocumentClick('#google-login-btn', () => {})\n    },\n    async onPressGoogle() {\n      if (!this.use_new_google) {\n        return\n      }\n      //\n      // ① 等埋点真正返回\n      reportWebSaEvent(Events.h5_loginpage_elementclick, {\n        element_name: 'google',\n      })\n\n      // ② 强制延迟 400 ms\n      await sleep(400)\n\n      console.log('onPressGoogle')\n\n      // ③ 手动拉起 Google 登录\n\n      if (this.codeClient) {\n        this.codeClient.requestCode()\n        return\n      }\n    },\n    async onPhonePress() {\n      //\n      reportWebSaEvent(Events.h5_loginpage_elementclick, {\n        element_name: 'phone',\n      })\n      await sleep(400)\n      if (isTargetVersion()) {\n        goToMobileWebview()\n        return\n      }\n      this.$router.push({ name: 'Mobile' })\n    },\n    async onPressFacebookTest() {\n      reportWebSaEvent(Events.h5_loginpage_elementclick, {\n        element_name: 'facebook',\n      })\n    },\n    async onPressFacebook() {\n      console.log('on press facebook')\n      reportWebSaEvent(Events.h5_loginpage_elementclick, {\n        element_name: 'facebook',\n      })\n      await sleep(400)\n      FB.login((response: any) => {\n        console.log('response', response)\n        if (!response.authResponse) {\n          this.loading = false\n          reportEvent(Events.user_login_report_failed, {\n            source: 'sawa',\n            error_code: `获取facebook token失败`,\n            error_content: '获取facebook token失败',\n            is_sawaapp_authorize: false,\n            h5_type: 'facebook',\n            type: '登录',\n            h5_scene: 'get_token',\n          })\n          return\n        }\n        const { userID: fb_uid, accessToken: fb_token } = response.authResponse\n        this.doLoginFacebook(fb_uid, fb_token)\n      })\n    },\n    showCreateModal(cb: any, source: string) {\n      showModal(CreateModal, { cb, source })\n    },\n    async doLoginApple(apple_uid: string, apple_token: string, auto_create = false) {\n      if (isTargetVersion()) {\n        callbackToClient({\n          login_type: 'apple',\n          user_id: apple_uid,\n          access_token: apple_token,\n          auth_type: '3',\n        })\n        return\n      }\n      this.loading = true\n      const [success, accountResp] = await loginWithApple(\n        apple_uid,\n        apple_token,\n        undefined,\n        auto_create\n      )\n      this.loading = false\n\n      if (!success || accountResp.result !== 0) {\n        reportEvent(Events.user_login_report_failed, {\n          source: 'sawa',\n          error_code: `${accountResp.result}`,\n          error_content: `${accountResp.message}`,\n          is_sawaapp_authorize: false,\n          h5_type: 'apple',\n          type: '登录',\n          h5_scene: 'login',\n        })\n      }\n\n      if (!success) {\n        showToast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20001) {\n          showBanToast(accountResp.message || '')\n          return\n        }\n        if (accountResp.result === 20193) {\n          unregisterRemind(accountResp)\n          return\n        }\n\n        if (accountResp.result === 20312) {\n          this.showCreateModal(() => this.doLoginApple(apple_uid, apple_token, true), 'apple')\n        } else {\n          showToast(accountResp.toast || _T('获取数据失败，请稍后重试'))\n        }\n        // todo 创建账号\n        // this.showDialog(accountResp, apple_uid, apple_token, 'apple')\n        return\n      }\n\n      refreshAccount(accountResp, 'sawaksa_apple')\n    },\n    async doLoginFacebook(fb_uid: string, fb_token: string, auto_create = false) {\n      if (isTargetVersion()) {\n        callbackToClient({\n          login_type: 'facebook',\n          user_id: fb_uid,\n          access_token: fb_token,\n          auth_type: '3',\n        })\n        return\n      }\n      if (this.loading) {\n        return\n      }\n      this.loading = true\n      const [success, accountResp] = await loginWithFacebook(fb_uid, fb_token, auto_create)\n      this.loading = false\n\n      if (!success || accountResp.result !== 0) {\n        reportEvent(Events.user_login_report_failed, {\n          source: 'sawa',\n          error_code: `${accountResp.result}`,\n          error_content: `${accountResp.message}`,\n          is_sawaapp_authorize: false,\n          h5_type: 'facebook',\n          type: '登录',\n          h5_scene: 'login',\n        })\n      }\n\n      if (!success) {\n        showToast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20001) {\n          showBanToast(accountResp.message || '')\n          return\n        }\n        if (accountResp.result === 20193) {\n          unregisterRemind(accountResp)\n          return\n        }\n\n        if (accountResp.result === 20312) {\n          this.showCreateModal(() => this.doLoginFacebook(fb_uid, fb_token, true), 'facebook')\n        } else {\n          showToast(accountResp.toast || _T('获取数据失败，请稍后重试'))\n        }\n        // todo 错误弹窗\n        // this.showDialog(accountResp, fb_uid, fb_token, 'fb')\n        return\n      }\n\n      console.log('facebook login rsp', accountResp, success)\n      refreshAccount(accountResp, 'sawaksa_fb')\n    },\n    async doLoginGoogle(token: any, auto_create = false, is_token = true) {\n      if (isTargetVersion()) {\n        if (!is_token) {\n          console.log('callbackToClient', token)\n          callbackToClient({\n            login_type: 'google',\n            access_token: token,\n            id_token: '_',\n            auth_type: '3',\n          })\n        } else {\n          callbackToClient({\n            login_type: 'google',\n            id_token: token,\n            auth_type: '3',\n          })\n        }\n        return\n      }\n      this.loading = true\n      const [success, accountResp] = await loginWithGoogle(token, auto_create)\n      this.loading = false\n\n      console.log('google login data', success, accountResp)\n\n      if (!success || accountResp.result !== 0) {\n        reportEvent(Events.user_login_report_failed, {\n          source: 'sawa',\n          error_code: `${accountResp.result}`,\n          error_content: `${accountResp.message}`,\n          is_sawaapp_authorize: false,\n          h5_type: 'google',\n          type: '登录',\n          h5_scene: 'login',\n        })\n      }\n\n      if (!success) {\n        showToast(_T('获取数据失败，请稍后重试'))\n        this.loading = false\n        return\n      }\n\n      if (accountResp.result !== 0) {\n        this.loading = false\n        if (accountResp.result === 20001) {\n          showBanToast(accountResp.message || '')\n          return\n        }\n        if (accountResp.result === 20193) {\n          unregisterRemind(accountResp)\n          return\n        }\n\n        if (accountResp.result === 20312) {\n          this.showCreateModal(() => this.doLoginGoogle(token, true), 'google')\n        } else {\n          showToast(accountResp.toast || _T('获取数据失败，请稍后重试'))\n        }\n\n        // todo 错误弹窗\n        // this.showDialog(accountResp, fb_uid, fb_token, 'fb')\n        return\n      }\n\n      console.log('google login rsp', accountResp, success)\n\n      refreshAccount(accountResp, 'sawaksa_google')\n    },\n    attachSignin() {\n      const { google } = window as any\n\n      if (google) {\n        if (!this.use_new_google) {\n          google.accounts.id.initialize({\n            client_id: CLIENT_ID,\n            callback: (data: any) => {\n              this.doLoginGoogle(data?.credential)\n            },\n          })\n          google.accounts.id.renderButton(document.getElementById('google-login-btn'), {\n            theme: 'outline',\n            size: 'large',\n            type: 'standard',\n            width: '311',\n            click_listener: async () => {\n              reportWebSaEvent(Events.h5_loginpage_elementclick, {\n                element_name: 'google',\n              })\n              console.log('google login click 111')\n              await sleep(400)\n              console.log('google login click 222')\n            },\n          })\n        } else {\n          this.codeClient = google.accounts.oauth2.initCodeClient({\n            client_id: CLIENT_ID,\n            scope: 'openid email profile',\n            ux_mode: 'popup',\n            callback: (data: any) => {\n              console.log('google login data', data)\n              this.doLoginGoogle(data?.credential || data?.code, false, false)\n            },\n          })\n          ;(window as any).codeClient = this.codeClient\n        }\n      }\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=66e0ef9a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=66e0ef9a&prod&lang=css\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=66e0ef9a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66e0ef9a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter, { RouteConfig } from 'vue-router'\nimport Home from '../views/index.vue'\n\nVue.use(VueRouter)\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n  {\n    path: '/mobile',\n    name: 'Mobile',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/mobile/mobile.vue'),\n  },\n  {\n    path: '/accounts',\n    name: 'Accounts',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/account/account-list.vue'),\n  },\n  {\n    path: '/selectCountry',\n    name: 'SelectCountry',\n    component: () => import('../views/mobile/country-select.vue'),\n  },\n]\n\nconst router = new VueRouter({\n  routes,\n})\n\nexport default router\n","/* eslint-disable import/no-cycle */\n/* eslint-disable import/prefer-default-export */\nimport Vue from 'vue'\nimport '@badam/vue-tsx-support/enable-check'\nimport '@badam/vue-tsx-support/options/enable-nativeon'\nimport {\n  calculateWindow,\n  exec,\n  ready,\n  addWebpAvifSupport,\n  initErrorReporter,\n  reportSensors,\n  metric,\n  DayJs,\n  TimeType,\n  getPlatform,\n  getArgsFromUrlHash,\n  setLang,\n  getServTs,\n  appType,\n  updateTsDelta,\n  calculateWindow4,\n  getArgsFromUrl,\n} from '@badam/common-utils'\nimport Main from '@d/main.vue'\nimport store from '@d/store'\nimport { CLIENT_ID, initAppleLogin, initDarkMode } from '@d/utils'\nimport { name, nanoid } from '../../package.json'\nimport './index.module.scss'\nimport '@d/assets/css/ludo.scss'\nimport lang from './lang/index.ksa.json'\nimport router from './router/index'\nimport Loading2 from './components/loading.vue'\nimport FirebaseManager from './utils/firebase-manager/index'\nimport { getConfigAndDial } from './utils/dial'\n\nVue.config.productionTip = false\nVue.component('LoadingComp2', Loading2)\n\n//\n\nasync function setTime() {\n  const time = await getServTs(appType.sawa)\n  updateTsDelta(time)\n}\n\nfunction init() {\n  return Promise.all([setTime()])\n}\n\nfunction createGoogleSDKScript() {\n  const loadGoogleApi = () => {\n    store.state.googleLoad = true\n    console.warn('google sdk 加载完成')\n  }\n  const script = document.createElement('script')\n  script.type = 'text/javascript'\n  script.src = 'https://accounts.google.com/gsi/client'\n  script.onload = loadGoogleApi\n  document.body.appendChild(script)\n}\n\nexport const initDiwania = () =>\n  exec(async () => {\n    createGoogleSDKScript()\n\n    if (getArgsFromUrlHash('lan') !== 'zh') {\n      setLang(lang)\n    } else {\n      setLang({}, '', true)\n    }\n\n    store.state.data = decodeURIComponent(getArgsFromUrlHash('data')) || ''\n    initAppleLogin()\n    calculateWindow4()\n    // initDarkMode()\n    banScale()\n    // 神策依赖，生产才打开 @Td\n    await FirebaseManager.getInstance().init()\n    await getConfigAndDial()\n\n    try {\n      init()\n      DayJs.setOffset(TimeType.Ksa)\n      reportSensors('act_meaningful_content_loaded', true)\n    } catch (err) {\n      console.error(err)\n    }\n\n    new Vue({\n      store,\n      router,\n      render: (h) => h(Main),\n    }).$mount('#app')\n  })\n\nfunction banScale() {\n  document.documentElement.addEventListener(\n    'touchstart',\n    (event) => {\n      if (event.touches.length > 1) {\n        event.preventDefault()\n      }\n    },\n    false\n  )\n\n  let lastTouchEnd = 0\n  document.documentElement.addEventListener(\n    'touchend',\n    (event) => {\n      const now = Date.now()\n      if (now - lastTouchEnd <= 300) {\n        event.preventDefault()\n      }\n      lastTouchEnd = now\n    },\n    false\n  )\n  document.addEventListener('gesturestart', (event) => {\n    event.preventDefault()\n  })\n}\n","/* eslint-disable no-lonely-if */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable import/no-cycle */\n/* eslint-disable import/prefer-default-export */\n/* eslint-disable wrap-iife */\n/* eslint-disable import/no-self-import */\n/* eslint-disable import/named */\nimport { initLudo } from '@/main'\nimport { initBloot } from '@@/main'\nimport { initDiwania } from '@d/main'\nimport { api, getArgsFromUrl } from '@badam/common-utils'\nimport qs from 'qs'\nimport { fb } from './fb'\nimport { addVConsolePlugin, isProductType, ProductType } from './helper'\n\n// baloot 传的是 bundleid\n// ludo diwania 传的是 bundle_id\nconst bundle_id = getArgsFromUrl('bundle_id') || getArgsFromUrl('bundleid') || 'com.sawa.ludo'\nconst isBalootToLudo = bundle_id === 'com.sawa.ludo' && getArgsFromUrl('is_baloot') === '1'\n\nfunction initBtn() {\n  ;(function (d, s, id) {\n    let js: any\n    let fjs: any = d.getElementsByTagName(s)[0]\n    if (d.getElementById(id)) {\n      return\n    }\n    js = d.createElement(s)\n    js.id = id\n    js.src = 'https://connect.facebook.net/en_US/sdk.js'\n    if (fjs) fjs.parentNode.insertBefore(js, fjs)\n  })(document, 'script', 'facebook-jssdk')\n  // @Td recode!\n  ;(window as any).fbAsyncInit = function () {\n    // 这里不改了，登录sawa都走 297601757621370\n    // const pkg = getArgsFromUrl('bundleid')\n    const pkg = bundle_id\n    const is_diwania = getArgsFromUrl('is_diwania')\n    fb.appid =\n      ((pkg === 'com.sawa.ksa') || isBalootToLudo) // baloot 支持登录到 ksa 和 ludo，用同个appid\n        ? '391521625027907' // 授权 baloot\n        : process.env.VUE_APP_FLAVOR === 'weyay'\n        ? '1666468373982706' // // 授权 weyay\n        : is_diwania\n        ? '7953232924746525' // 授权 diwania\n        : '297601757621370' // 授权 ksa\n    console.log('facebook初始化 包名', pkg, fb.appid)\n    const v = 'v6.0'\n    ;(window as any).FB.init({\n      appId: fb.appid,\n      xfbml: true,\n      version: v,\n    })\n    ;(window as any).FB.AppEvents.logPageView()\n  }\n}\n\nif (isProductType(ProductType.Diwania)) {\n  initDiwania()\n} else if (isProductType(ProductType.Ksa) || isBalootToLudo) {\n  initBloot()\n} else {\n  // if (isProductType(ProductType.Ludo) || isProductType(ProductType.WeyayPlay))\n  initLudo()\n}\n\nconsole.log('initBtn', fb.appid, bundle_id, process.env)\ninitBtn()\n\nasync function postGoogle() {\n  const form = qs.stringify({\n    client_id: '532022495714-s5hikassju5bdbsmsfc277pt4ro2ff9l.apps.googleusercontent.com',\n    client_secret: '7SOVaeYJM2pu-8zVMcJ-_Eeq',\n    grant_type: 'authorization_code',\n    code: '4/0AVMBsJiXA7he8oSCrqS-2mFvstG2t5TaCLgVmg-8xjHjB5vA3rEsAIuJtnUPIc4coT1sAQ',\n    redirect_uri: 'postmessage',\n  })\n  const res = await api\n    .getAxiosInstance()\n    .post('https://oauth2.googleapis.com/token', form, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    })\n    .catch((err) => {\n      console.error('Google OAuth 错误:', err)\n      return { status: 500, data: err.message }\n    })\n\n  if (res.status === 200) {\n    console.log('Google OAuth 成功:', res.data)\n  } else {\n    console.error('Google OAuth 失败:', res.status, res.data)\n  }\n}\n\n// postGoogle()\n;(window as any).getArgsFromUrl = getArgsFromUrl\naddVConsolePlugin()\n","import { initWebSa } from '@@/utils/report'\nimport {\n  SensorSDKName,\n  getArgsFromUrl,\n  initWebSensors,\n  matchExpr,\n  reportWebSensors,\n} from '@badam/common-utils'\nimport { report } from '@d/utils/index'\n\nexport enum Events {\n  h5_loginpage = 'h5_loginpage',\n  h5_loginpage_elementclick = 'h5_loginpage_elementclick',\n  h5_phoneloginpage = 'h5_phoneloginpage',\n  h5_login_detailpage_elementclick = 'h5_login_detailpage_elementclick',\n  h5_verifycodeloginpage_verifycode = 'h5_verifycodeloginpage_verifycode',\n  h5_loginpage_enpower_no_account_pop_show = 'h5_loginpage_enpower_no_account_pop_show',\n  h5_loginpage_enpower_no_account_pop_click = 'h5_loginpage_enpower_no_account_pop_click',\n  user_login_report_failed = 'user_login_report_failed',\n}\n\nexport type EventMap = {\n  [Events.h5_loginpage]: H5_LOGINPAGE\n  [Events.h5_loginpage_elementclick]: H5_LOGINPAGE_ELEMENTCLICK\n  [Events.h5_phoneloginpage]: H5_PHONELOGINPAGE\n  [Events.h5_login_detailpage_elementclick]: H5_LOGIN_DETAILPAGE_ELEMENTCLICK\n  [Events.h5_verifycodeloginpage_verifycode]: H5_VERIFYCODELOGINPAGE_VERIFYCODE\n  [Events.h5_loginpage_enpower_no_account_pop_show]: H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_SHOW\n  [Events.h5_loginpage_enpower_no_account_pop_click]: H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_CLICK\n  [Events.user_login_report_failed]: user_login_report_failed\n}\n\nexport type H5_LOGINPAGE = {\n  is_first_time: boolean\n}\n\nexport type H5_LOGINPAGE_ELEMENTCLICK = {\n  element_name: string\n}\n\nexport type H5_PHONELOGINPAGE = {\n  source: string\n}\n\nexport type H5_LOGIN_DETAILPAGE_ELEMENTCLICK = {\n  source: string\n  operation_type: string\n  phone_str: string\n  country_code_str: string\n}\n\nexport type H5_VERIFYCODELOGINPAGE_VERIFYCODE = {\n  country_code_str: string\n  phone_str: string\n  result: string\n  error_message: string\n}\n\nexport type H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_SHOW = {\n  source: string\n}\n\nexport type H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_CLICK = {\n  source: string\n  element_name: string\n}\n\nexport function reportEvent<T extends keyof EventMap>(event: T, data: EventMap[T]) {\n  report(event, data)\n}\n\nexport function getAppType(bundle_id: string) {\n  return matchExpr(bundle_id, [\n    ['com.sawa.ksa', '独立端'],\n    ['com.badambiz.pk.saudi', '独立端'],\n    ['com.sawa.ludo', '内嵌ludo'],\n    ['com.badambiz.mideastsau', 'baloot内嵌sawa'],\n    ['hk.longchiu.dwn', 'Diwania'],\n  ], () => '')\n}\n\n// h5 神策上报\nexport async function reportWebSaEvent<T extends keyof EventMap>(event: T, data: EventMap[T]) {\n  const defaults = {\n    sawa_device: getArgsFromUrl('uuid') || '',\n    app_type: getAppType(getArgsFromUrl('bundle_id')),\n    web_app_id: getArgsFromUrl('bundle_id') || '',\n    web_app_version: getArgsFromUrl('version_code') || '',\n  }\n  const params = Object.assign(defaults, data)\n  console.warn('[reportSa]', event, params)\n  reportWebSensors(event, params)\n}\n\nexport enum ErrorReason {\n  获取token失败 = '获取token失败',\n  API失败 = 'API失败',\n}\n\nexport type user_login_report_failed = {\n  is_sawaapp_authorize: boolean\n  source: 'sawa'\n  type: '登录'\n  error_code: string\n  error_content: string\n  h5_type: 'apple' | 'google' | 'facebook' | 'phone'\n  h5_scene: 'login' | 'get_code' | 'get_token'\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.showWrap)?_c('div',{staticClass:\"toast wrap\",class:_vm.showContent ? 'fadein' : 'fadeout',attrs:{\"dir\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\n\nconst Toast = Vue.extend({\n  props: {\n    text: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      showWrap: true, // 是否显示组件\n      showContent: true, // 作用:在隐藏组件之前,显示隐藏动画\n    }\n  },\n})\n\nexport const showToast = (text: string, duration = 4000) => {\n  const toast = new Toast({ el: document.createElement('div') }) as any\n  const el = toast.$el\n  toast.text = text\n  document.body.appendChild(el)\n  // 提前 250ms 执行淡出动画\n  setTimeout(() => {\n    toast.showContent = false\n  }, duration - 1250)\n  // 过了 duration 时间后隐藏整个组件\n  setTimeout(() => {\n    toast.showWrap = false\n  }, duration)\n}\n\nexport function registryToast() {\n  Vue.prototype.$toast = showToast\n  ;(window as any).toast = showToast\n}\n\nexport default Toast\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./toast.vue?vue&type=template&id=9e1dc4ea&scoped=true\"\nimport script from \"./toast.vue?vue&type=script&lang=ts\"\nexport * from \"./toast.vue?vue&type=script&lang=ts\"\nimport style0 from \"./toast.vue?vue&type=style&index=0&id=9e1dc4ea&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e1dc4ea\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=74b39328&prod&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=style&index=0&id=9e1dc4ea&prod&lang=scss&scoped=true\"","import { report } from '@/utils/index'\nimport { getArgsFromUrl, getPlatform, initWebSensors, reportWebSensors, SensorSDKName } from '@badam/common-utils'\n\nexport enum Events {\n  h5_loginpage = 'h5_loginpage',\n  h5_loginpage_elementclick = 'h5_loginpage_elementclick',\n  h5_phoneloginpage = 'h5_phoneloginpage',\n  h5_login_detailpage_elementclick = 'h5_login_detailpage_elementclick',\n  h5_verifycodeloginpage_verifycode = 'h5_verifycodeloginpage_verifycode',\n  h5_loginpage_enpower_no_account_pop_show = 'h5_loginpage_enpower_no_account_pop_show',\n  h5_loginpage_enpower_no_account_pop_click = 'h5_loginpage_enpower_no_account_pop_click',\n  user_login_report_failed = 'user_login_report_failed',\n  h5_loginpage_loading_finish = 'h5_loginpage_loading_finish',\n}\n\nexport type EventMap = {\n  [Events.h5_loginpage]: H5_LOGINPAGE\n  [Events.h5_loginpage_loading_finish]: H5_LOGINPAGE_LOADING_FINISH\n  [Events.h5_loginpage_elementclick]: H5_LOGINPAGE_ELEMENTCLICK\n  [Events.h5_phoneloginpage]: H5_PHONELOGINPAGE\n  [Events.h5_login_detailpage_elementclick]: H5_LOGIN_DETAILPAGE_ELEMENTCLICK\n  [Events.h5_verifycodeloginpage_verifycode]: H5_VERIFYCODELOGINPAGE_VERIFYCODE\n  [Events.h5_loginpage_enpower_no_account_pop_show]: H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_SHOW\n  [Events.h5_loginpage_enpower_no_account_pop_click]: H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_CLICK\n  [Events.user_login_report_failed]: user_login_report_failed\n}\n\nexport type H5_LOGINPAGE = {\n  is_first_time: boolean\n}\n\nexport type H5_LOGINPAGE_LOADING_FINISH = {\n  source: string\n  duration: number\n}\n\nexport type H5_LOGINPAGE_ELEMENTCLICK = {\n  element_name: string\n}\n\nexport type H5_PHONELOGINPAGE = {\n  source: string\n}\n\nexport type H5_LOGIN_DETAILPAGE_ELEMENTCLICK = {\n  source: string\n  operation_type: string\n  phone_str: string\n  country_code_str: string\n}\n\nexport type H5_VERIFYCODELOGINPAGE_VERIFYCODE = {\n  country_code_str: string\n  phone_str: string\n  result: string\n  error_message: string\n}\n\nexport type H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_SHOW = {\n  source: string\n}\n\nexport type H5_LOGINPAGE_ENPOWER_NO_ACCOUNT_POP_CLICK = {\n  source: string\n  element_name: string\n}\n\nexport async function reportJustOutside(eventName: string, fields = {}) {\n  console.warn('h5 [report sa]', eventName, fields)\n  const testHosts = ['test-isawa']\n  const isDebug = getArgsFromUrl('is_debug') || testHosts.some(host => window.location.host.includes(host))\n  await initWebSensors(isDebug ? SensorSDKName.TEST : SensorSDKName.KSA, true, 'ajax')\n  reportWebSensors(eventName, fields)\n}\n\nexport function reportEvent<T extends keyof EventMap>(event: T, data: EventMap[T]) {\n  if (getPlatform().isAndroid) {\n    reportJustOutside(event, data)\n    return\n  }\n  report(event, data)\n}\n\nexport enum ErrorReason {\n  获取token失败 = '获取token失败',\n  API失败 = 'API失败',\n}\n\nexport type user_login_report_failed = {\n  is_sawaapp_authorize: boolean\n  source: 'sawa'\n  type: '登录'\n  error_code: string\n  error_content: string\n  h5_type: 'apple' | 'google' | 'facebook' | 'phone'\n  h5_scene: 'login' | 'get_code' | 'get_token'\n}\n","/* eslint-disable indent */\n/* eslint-disable import/no-cycle */\n/* eslint-disable camelcase */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable max-len */\nimport { api, ApiResult, getArgsFromUrl } from '@badam/common-utils'\nimport axios from 'axios'\nimport store from '@d/store'\nimport { client_id, getAppClientVersion } from '@d/utils'\nimport { isTargetVersion } from '@d/utils/new-login'\nimport {\n  CreateBindedAccountParam,\n  QueryBindedAccountsParam,\n  SelectBindedAccountParam,\n} from './interface'\n// import qs from 'qs'\n// import { ActivityRankingListRspMsg, CommonRankingListResult } from './interface'\n\napi.setWgetEnable(true)\n\nconst wget = api.wget.bind(api)\nconst get = api.get.bind(api)\nconst post = api.post.bind(api)\n\nif (getArgsFromUrl('test_rc')) {\n  api.setHeader(() => ({\n    'x-cli-rc': '',\n  }))\n}\n\nexport function loginWithApple(\n  user_id: string,\n  access_token: string,\n  nickname?: string,\n  auto_create = false\n) {\n  const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'apple',\n    user_id,\n    access_token,\n    // nickname,\n    auth_type: 3,\n    auth_access,\n    auto_create,\n    appid: client_id.apple,\n  }\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  // data = qs.stringify(data)\n\n  return post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithGoogle(id_token: string, auto_create = false) {\n  const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'google',\n    id_token,\n    auth_type: 3,\n    auth_access,\n    auto_create,\n    appid: client_id.google,\n  }\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  // data = qs.stringify(data)\n\n  return post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithFacebook(user_id: string, access_token: string, auto_create = false) {\n  const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'facebook',\n    user_id,\n    access_token,\n    auth_type: 3,\n    auth_access,\n    auto_create,\n    appid: client_id.facebook(),\n  }\n\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  // data = qs.stringify(data)\n\n  return post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport function loginWithMobile(\n  mobile: string | number,\n  code: string | number,\n  country_code: string | number,\n  auto_create = false\n) {\n  const auth_access = store.state.data\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = {\n    login_type: 'mobile',\n    mobile,\n    code,\n    country_code,\n    auth_type: 3,\n    auth_access,\n    auto_create,\n  }\n\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, obj[key]))\n  // data = qs.stringify(data)\n  if (isTargetVersion()) {\n    return api.wpost3('/api/user_mode/get_login_key/', obj) as Promise<[boolean, ApiResult<any>]>\n  }\n  return api.post('/api/user_mode/get_login_key/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\nexport const addEvent = (event: BadamEvent) =>\n  // if (conf.useMock) {\n  //   return mock.commonRank()\n  // }\n  get('/api/sys/add_event/', {\n    event_name: event.eventName,\n    uuid: event.uuid,\n    version: event.version,\n    str_param2: event.dict.str_param2,\n    str_param3: event.dict.str_param3,\n    str_param4: event.dict.str_param4,\n    str_param1: JSON.stringify({\n      uid: event.uid,\n      op: event.op,\n      tk: event.tk,\n      ua: event.ua,\n      proj: event.proj,\n      href: event.href,\n      rid: event.rid,\n    }),\n    int_param1: event.dict.int_param1,\n    int_param2: event.dict.int_param2,\n    int_param3: event.dict.int_param3,\n    int_param4: event.dict.int_param4,\n  }) as unknown as Promise<[boolean, ApiResult<any>]>\n\n/**\n *\n * 手机获取验证码\n * @export\n * @param {string} mobile 手机号码\n * @param {string} country_code 国家码\n * @return {*}\n */\nexport function getMobileCode(mobile: string | number, country_code: string | number) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const device_token = getArgsFromUrl('device_token') || ''\n  let obj\n  if (device_token) {\n    obj = {\n      mobile,\n      country_code,\n      device_token,\n      from_app_uuid: uuid,\n      from_app_package_name: bundle_id,\n      auth_type: 3,\n    }\n  } else {\n    obj = {\n      mobile,\n      country_code,\n      from_app_uuid: uuid,\n      from_app_package_name: bundle_id,\n      auth_type: 3,\n    }\n  }\n  return api.wget3('/api/user/get_code/', obj, {\n    'x-cli-br': 1,\n    'x-cli-pn': 'com.sawa.web.ksa',\n  }) as Promise<[boolean, ApiResult<any>]>\n}\n\n// 获取绑定手机号可登录账号列表\nexport function queryBindedAccounts(param: QueryBindedAccountsParam) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = param\n  obj.auth_type = 3\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, (obj as any)[key]))\n  if (isTargetVersion()) {\n    console.warn('[isTargetVersion]', true)\n    return api.wpost3('/api/mobile_login/query_identities/', obj) as Promise<\n      [boolean, ApiResult<any>]\n    >\n  }\n  return api.post('/api/mobile_login/query_identities/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\n// 创建账号（新）\nexport function createBindedAccount(param: CreateBindedAccountParam) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = param\n  obj.auth_type = 3\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, (obj as any)[key]))\n  if (isTargetVersion()) {\n    // return api.wpost3('https://test18-pk.badambiz.com/api/mobile_login/create/?t=1', obj) as Promise<[boolean, ApiResult<any>]>\n    return api.wpost3('/api/mobile_login/create/', obj) as Promise<[boolean, ApiResult<any>]>\n  }\n  return post('/api/mobile_login/create/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'x-cli-ve': getAppClientVersion(),\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n\n// 选择账号登录\nexport function selectBindedAccount(param: SelectBindedAccountParam) {\n  const uuid = getArgsFromUrl('uuid') || ''\n  const bundle_id = getArgsFromUrl('bundle_id') || ''\n  const obj: any = param\n  obj.auth_type = 3\n  let data: any = new URLSearchParams()\n  obj && Object.keys(obj).forEach((key) => data.append(key, (obj as any)[key]))\n  if (isTargetVersion()) {\n    return api.wpost3('/api/mobile_login/select_identity/', obj) as Promise<\n      [boolean, ApiResult<any>]\n    >\n  }\n  return post('/api/mobile_login/select_identity/', data, {\n    'x-cli-br': 1,\n    'x-cli-id': uuid,\n    'x-cli-pn': bundle_id,\n    'content-type': 'application/x-www-form-urlencoded',\n  } as any) as Promise<[boolean, ApiResult<any>]>\n}\n","/* eslint-disable operator-assignment */\n/* eslint-disable prefer-template */\n/* eslint-disable @typescript-eslint/no-empty-function */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable import/no-cycle */\n/* eslint-disable camelcase */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable func-names */\n/* eslint-disable space-before-function-paren */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-mutable-exports */\n/* eslint-disable no-restricted-globals */\n/* eslint-disable no-void */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable operator-linebreak */\nimport { CLIENT_ID } from '@/utils'\nimport qs from 'qs'\nimport Vue from 'vue'\nimport * as tsx from 'vue-tsx-support'\nimport { fb } from '../../fb'\n\n// 根据key获取url参数的值\nexport const getArgsFromUrl = (key: string): any => {\n  const url = decodeURIComponent(window.location.href)\n  const data = url.split('?')\n  let params = ''\n  if (data.length > 1) {\n    // eslint-disable-next-line prefer-destructuring\n    params = data[1]\n  }\n  const obj = qs.parse(params) || {}\n  return obj[key] ? obj[key] : null\n}\n\n// 判断是否iOS\nexport const isIOS = () => {\n  const platform = getArgsFromUrl('platform')\n  const u = navigator.userAgent\n  const ua = u.toLowerCase()\n  return /iphone|ipad|ipod/.test(ua) || platform === 'iOS'\n}\n\n// 屏幕适配方案\nexport function calculateWindow(size = 720) {\n  const { width } = window.screen\n  const height = Math.min(window.screen.height, window.innerHeight)\n  if (height < 5) {\n    setTimeout(() => {\n      calculateWindow()\n    }, 16)\n    return\n  }\n  const scale = Number((width / size).toFixed(3))\n  const meta: any = document.getElementById('viewport-config')\n  meta.name = 'viewport'\n  meta.content = `width=device-width,initial-scale=${scale},user-scalable=no,maximum-scale=${scale},minimum-scale=${scale},viewport-fit=cover`\n  document.documentElement.style.width = `${size}px`\n  if (isIOS()) {\n    document.documentElement.style.height = '100vh'\n  } else {\n    document.documentElement.style.height = `${window.screen.height / scale}px`\n  }\n}\n\nexport function calculateWindow2(cb1 = () => {}, cb2 = () => {}) {\n  const height = Math.min(window.screen.height, window.innerHeight)\n  if (height < 5) {\n    setTimeout(() => {\n      calculateWindow()\n    }, 16)\n    return\n  }\n  const meta: any = document.getElementById('viewport-config')\n  meta.name = 'viewport'\n  meta.content =\n    'width=device-width,initial-scale=1,user-scalable=no,maximum-scale=1,minimum-scale=1,viewport-fit=cover'\n  if (isIOS()) {\n    document.documentElement.style.height = '100vh'\n  }\n  cb1 && cb1()\n  cb2 && cb2()\n}\n\n// 获取open id\nexport const getOpenid = (): any =>\n  new Promise((resolve, reject) => {\n    try {\n      ;(window as any).kinoJsApi.getUserInfo((res: any) => {\n        resolve(res.openid)\n      })\n    } catch (e) {\n      resolve('')\n    }\n  })\n\n// kinoJsApi 初始化\nexport const awaitKinoJsApi = (): Promise<boolean> => {\n  let times = 0\n  return new Promise((resolve) => {\n    const waitForWindow = () => {\n      times += 1\n      setTimeout(() => {\n        if (\n          !(\n            (window as any).kinoJsApi &&\n            (window as any).kinoJsApi.getUserInfo &&\n            (!isIOS() || (isIOS() && (window as any).webkit.messageHandlers.appCall))\n          ) &&\n          times < 50\n        ) {\n          // eslint-disable-next-line no-unused-vars\n          waitForWindow()\n        } else if (times >= 50) {\n          resolve(false)\n        } else {\n          resolve(true)\n        }\n      }, 16)\n    }\n    waitForWindow()\n  })\n}\n\n// 获取session_key\nexport const getSessionKey = () => getArgsFromUrl('session_key') as any\n\n// 动态添加脚本url\nexport const addDynamicScript = (src: string, integrity = '', crossorigin = 'anonymous') =>\n  new Promise((resolve) => {\n    const script = document.createElement('script')\n    script.src = src\n    // script.setAttribute('type', 'text/javascript')\n    // script.defer = true\n    // script.charset = 'utf-8'\n    integrity ? (script.integrity = integrity) : void 0\n    crossorigin ? (script.crossOrigin = crossorigin) : void 0\n    document.body.appendChild(script)\n    script.onload = () => {\n      resolve(true)\n    }\n    script.onerror = () => {\n      resolve(false)\n    }\n  })\n\n// 获取全部参数，跳转路由用\nexport const getAllArgs = () => {\n  const url = decodeURIComponent(window.location.href)\n  const data = url.split('?')\n  let params = ''\n  if (data.length > 1) {\n    // eslint-disable-next-line prefer-destructuring\n    params = data[1]\n  }\n  const obj = qs.parse(params) || {}\n  return obj\n}\n\nexport function useFunc() {\n  function addDynamic(src: string) {\n    const script = document.createElement('script')\n    script.setAttribute('type', 'text/javascript')\n    script.src = src\n    script.async = true\n    script.charset = 'utf-8'\n    document.body.appendChild(script)\n  }\n\n  function getArgFromUrl(key: string) {\n    const str = location.search\n    if (!str || str.substr(0, 1) !== '?') {\n      return undefined\n    }\n    const obj: any = {}\n    const items = str.substr(1).split('&')\n    items.forEach((item) => {\n      const r = item.split('=')\n      const k = r[0]\n      const v = decodeURIComponent(r[1])\n      obj[k] = v\n    })\n    return obj[key]\n  }\n\n  function checkURL(url: any) {\n    if (!url) {\n      return false\n    }\n    return true\n  }\n  function main() {\n    const ARG_NAME = 'use_fn'\n    const url = getArgFromUrl(ARG_NAME)\n    if (!checkURL(url)) {\n      return\n    }\n    addDynamic(url)\n  }\n  main()\n}\n\nexport let MySentry: any\n\nexport function registerSentry(st: any) {\n  Vue.prototype.MySentry = st\n  MySentry = st\n}\n\nexport function throttle(fn: any, threshhold: number) {\n  let last: any\n  let timer: any\n  threshhold || (threshhold = 250)\n  return () => {\n    const args = arguments\n    const now = +new Date()\n    if (last && now < last + threshhold) {\n      clearTimeout(timer)\n      timer = setTimeout(() => {\n        last = now\n        fn(args)\n      }, threshhold)\n    } else {\n      last = now\n      fn(args)\n    }\n  }\n}\n\nexport default {\n  calculateWindow,\n}\n\nexport function reportTrace(pos: string) {\n  console.log('report Clicks>>', pos)\n  ;(window as any)._czc.push(['_trackEvent', 'Trace', pos])\n}\n\nexport function reportClicks(pos: string) {\n  console.log('report Clicks>>', pos)\n  ;(window as any)._czc.push(['_trackEvent', 'Clicks', pos])\n}\n\nexport function reportVisits(pos: string) {\n  console.log('report Visits>>', pos)\n  ;(window as any)._czc.push(['_trackEvent', 'Visits', pos])\n}\n\nexport const addUserScript = (src: string) =>\n  new Promise((resolve) => {\n    const script = document.createElement('script')\n    script.src = src\n    document.body.appendChild(script)\n    script.onload = () => {\n      resolve(true)\n    }\n    script.onerror = () => {\n      resolve(false)\n    }\n  })\n\nif ((window as any).JavaBridgeObj) {\n  ;(window as any).JavaBridgeObj.__actions__ = {}\n  ;(window as any).JavaBridgeObj.__id__ = 0\n}\n\nexport const registerBridgeCbId = (cb: any) => {\n  const id = ((window as any).JavaBridgeObj.__id__ += 1)\n  ;(window as any).JavaBridgeObj.__actions__[id] = cb\n}\n\n/**\n *  检测环境是否支持webp图片\n *\n */\nexport const isSupportWebp = () => {\n  const ele = window.document.createElement('canvas')\n  if (ele.getContext && ele.getContext('2d')) {\n    return ele.toDataURL('image/webp').indexOf('webp') > -1\n  }\n  // 不支持canvas,那么一定不支持webp\n  return false\n}\n\nexport function convertTsx<P>(comp: any) {\n  return tsx.ofType<P>().convert(comp)\n}\n\nexport function postForm(data: any) {\n  const f = document.createElement('form')\n  f.style.display = 'none'\n  f.method = 'post'\n  f.action = 'https://isawa.sawalive.cn/anyjump'\n  f.target = '_target'\n  for (const k of Object.keys(data)) {\n    const input = document.createElement('input')\n    input.type = 'hidden'\n    input.name = k\n    input.value = data[k]\n    f.appendChild(input)\n  }\n  document.body.appendChild(f)\n  console.log('sumbit form', data)\n  f.submit()\n  document.body.removeChild(f)\n}\n\nexport function jumpSchema(schema: string) {\n  postForm({ target: schema })\n}\n\nexport function initAppleLogin() {\n  AppleID.auth.init({\n    clientId: client_id.apple,\n    scope: 'name email',\n    redirectURI: location.href.split('#')[0].split('?')[0],\n    state: '[STATE]',\n    usePopup: true,\n  })\n}\n\nexport async function loadVConsoleIfNeed() {\n  if (!getArgsFromUrl('log')) {\n    return\n  }\n  const ret = await addUserScript('https://unpkg.com/vconsole/dist/vconsole.min.js')\n  if (!ret) {\n    return\n  }\n  const vConsole = new (window as any).VConsole()\n}\n\nexport function formatTs(ts: number) {\n  if (!ts) {\n    return ''\n  }\n  const a = String(ts).length === 10 ? ts * 1000 : ts\n  const b = new Date(a)\n  const [YYYY, MM, DD, hh, mm, ss] = [\n    b.getFullYear(),\n    b.getMonth() + 1,\n    b.getDate(),\n    b.getHours(),\n    b.getMinutes(),\n    b.getSeconds(),\n  ].map((n) => (n > 9 ? n : `0${n}`))\n  if (['zh'].includes(getArgsFromUrl('lan'))) {\n    return `${YYYY}-${MM}-${DD}`\n  }\n  return `${DD}-${MM}-${YYYY}`\n}\n\nexport function unregisterRemind(data: any) {\n  const obj = { ...(data || {}), log: undefined }\n  const schema = isBalootToLudo ? 'sawaludo' : 'sawaksa'\n  window.location.href = `${schema}://unregister_remind/?data=${encodeURIComponent(\n    JSON.stringify(obj)\n  )}`\n}\n\nexport function setUrlParams(key: string, value: string | number | boolean | undefined) {\n  const searchParams = new URLSearchParams(window.location.search)\n  // 修改参数值\n  if (value === undefined) {\n    searchParams.delete(key)\n  } else {\n    searchParams.set(key, String(value))\n  }\n\n  const str = searchParams.toString()\n\n  let newUrl\n  if (str) {\n    newUrl = window.location.pathname + '?' + str\n  } else {\n    newUrl = window.location.pathname\n  }\n\n  const hash = location.hash\n  if (hash) {\n    newUrl = newUrl + hash\n  }\n\n  // window.history.replaceState({}, '', newUrl)\n\n  return newUrl\n\n  // 将修改后的参数添加到 URL 中\n}\n\nexport function setUrlParams2(key: string, value: string | number | boolean | undefined) {\n  let u = setUrlParams(key, value)\n  u = u.replace(location.hash, '')\n  return location.origin + u\n}\n\nexport const client_id = {\n  apple: 'cn.sawalive.isawa',\n  facebook: () => fb.appid,\n}\n\nconst bundle_id = getArgsFromUrl('bundle_id') || getArgsFromUrl('bundleid') || 'com.sawa.ludo'\nexport const isBalootToLudo = bundle_id === 'com.sawa.ludo' && getArgsFromUrl('is_baloot') === '1'\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable import/no-cycle */\nimport { showToast } from '@/components/toast/toast.vue'\nimport { setUrlParams, setUrlParams2 } from '@@/utils/func'\nimport { _T, getArgsFromUrl, getPlatform, initWebSensors, matchExpr, reportWebSensors, SensorSDKName, sprintf } from '@badam/common-utils'\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport { reportEvent } from '@@/utils/event'\nimport { computed } from 'vue'\nimport { getConfigAndDial, resolveApiBase, setApiBaseUrl } from '@d/utils/dial'\nimport FirebaseManager from '@d/utils/firebase-manager'\nimport { fb } from '../../fb'\n\nconst scheme = process.env.VUE_APP_FLAVOR === 'weyay' ? 'weyayplay' : 'sawaludo'\n\ndayjs.extend(utc)\n\n/* eslint-disable no-restricted-globals */\nexport function getMp4url(url: string) {\n  const DOMAIN = window.location.hostname\n  if (DOMAIN.indexOf('cdn-') === -1) {\n    return url.replace('cdn-', '')\n  }\n  return url\n}\n\n// todo\nexport function initAppleLogin() {\n  const redirectURI = location.href.split('#')[0].split('?')[0]\n  console.log('initAppleLogin', 'redirect url', client_id.apple, redirectURI)\n  AppleID.auth.init({\n    clientId: client_id.apple,\n    scope: 'name email',\n    redirectURI,\n    state: '[STATE]',\n    usePopup: true,\n  })\n}\n\nfunction router(url: string) {\n  if (window.JavaBridgeObj && (window.JavaBridgeObj as any).router) {\n    ;(window.JavaBridgeObj as any).router(url)\n  } else {\n    window.location.href = url\n  }\n}\n\nexport function refreshAccount(accountResp: any, source: string) {\n  const { identities, user_info } = accountResp.data\n  if (user_info) {\n    const { session_key, uid, icon_verify } = user_info\n    const o = { session_key, uid, icon_verify }\n    const v = encodeURIComponent(JSON.stringify(o))\n    console.warn('refreshAccount', user_info, v)\n    if (getArgsFromUrl('is_debug') === '2') return\n    const url = `${scheme}://sawaksa_login/?sawaksa_acount=${v}&source=${source}&is_recall=${recall_value}`\n    console.warn('[router]', url)\n    router(url)\n  }\n}\n\nexport function goAccountsSelectingPage(\n  identitiesResp: any,\n  mobile: string,\n  country_code: string,\n  source: string\n) {\n  const { login_key } = identitiesResp.data || {}\n  if (login_key) {\n    const link = `${scheme}://sawaksa_accounts/?login_key=${login_key}&mobile=${mobile}&country_code=${country_code}&source=${source}&auth_type=1&is_recall=${recall_value}`\n    console.warn('jump', link)\n    if (getArgsFromUrl('is_debug') === '2') return\n    router(link)\n  }\n}\n\nexport function report(eventName: string, fields = {}) {\n  const json = fields\n  console.warn('router link>>', `${scheme}://sawaksa_login_event/?eventName=${eventName}&jsonData=${btoa(\n      encodeURIComponent(JSON.stringify(json))\n    )}`)\n\n  router(\n    `${scheme}://sawaksa_login_event/?eventName=${eventName}&jsonData=${btoa(\n      encodeURIComponent(JSON.stringify(json))\n    )}`\n  )\n}\n\nexport function unregisterRemind(data: any) {\n  const obj = { ...(data || {}), log: undefined }\n  router(`${scheme}://unregister_remind/?data=${encodeURIComponent(JSON.stringify(obj))}`)\n}\n\nexport function refreshDeviceToken(\n  mobile: number | null | string,\n  country: string | null,\n  flag: string | null\n) {\n  if (mobile) localStorage.setItem('ludo_refresh_device_token_mobile', `${mobile}` || '')\n  if (country) localStorage.setItem('ludo_refresh_device_token_country', `${country}` || '')\n  if (flag) localStorage.setItem('ludo_refresh_device_token_flag', `${flag}` || '')\n\n  let href = location.href\n  href = setUrlParams2('is_refresh', 1)\n  href = `${scheme}://refresh_device_token/?url=${encodeURIComponent(href)}`\n  console.warn('refreshDeviceToken', href)\n  router(href)\n}\n\nexport function getSub(access_token: string) {\n  const arr = access_token.split('.')\n  if (arr.length < 3) {\n    return ''\n  }\n  try {\n    const obj = arr[1]\n    const subs = atob(obj)\n    const o = JSON.parse(subs)\n    const sub = o.sub\n    return sub\n  } catch (e) {\n    return ''\n  }\n}\n\nexport function showBanToast(d: string) {\n  const dd = Number(d)\n  if (dd) {\n    if (dd === -1) {\n      showToast(_T('因涉嫌违规，你的账号被永久封禁。你无法再登录该账号。'))\n    } else {\n      const target = dayjs(dd * 1000)\n        .utcOffset(3)\n        .format('YYYY-MM-DD')\n      showToast(\n        sprintf(_T('因涉嫌违规，你的账号被封禁至{date}，这段时间内你将无法登陆该账号。'), {\n          date: target,\n        })\n      )\n    }\n  }\n}\n\nexport function versionToNumber(versionString: string) {\n  const parts = versionString.split('.')\n\n  // 确保至少有三位\n  while (parts.length < 3) {\n    parts.push('0')\n  }\n\n  let result = ''\n  for (let i = 0; i < 3; i += 1) {\n    let currentPart = parts[i]\n\n    if (i > 0 && currentPart.length < 2) {\n      currentPart = currentPart.padStart(2, '0')\n    }\n\n    result += currentPart\n  }\n\n  return parseInt(result, 10)\n}\n\nexport function getAppClientVersion() {\n  const version_code = getArgsFromUrl('version_code')\n  if (!version_code) return ''\n  // 处理参数有多个 version_code 的情况\n  let vc = version_code\n  if (Object.prototype.toString.call(version_code) === `[object ${'Array'}]`) {\n    vc = version_code[0]\n  }\n  return versionToNumber(vc).toString()\n}\n\nfunction resolveClientId() {\n  const weyay = '155744833659-2ngdd6egv15433dt2i8etk6vf8eg21b3.apps.googleusercontent.com'\n  const ksa = '532022495714-s5hikassju5bdbsmsfc277pt4ro2ff9l.apps.googleusercontent.com'\n  if (process.env.VUE_APP_FLAVOR === 'weyay') {\n    return weyay\n  }\n  return ksa\n}\n\nexport const CLIENT_ID = resolveClientId()\nconsole.warn('CLIENT_ID', CLIENT_ID)\n\n/// darkmode\n// dark mode\nfunction applyColorTheme(darkMode: boolean) {\n  if (darkMode) {\n    // @Td Change StatusBarTheme\n    document.getElementsByTagName('html')[0].classList.add('-dark')\n  } else {\n    document.getElementsByTagName('html')[0].classList.remove('-dark')\n  }\n}\n\nfunction isSafariDarkModeSupport() {\n  const mode = getArgsFromUrl('mode')\n  if (mode) {\n    return true\n  }\n  return false\n}\n\nfunction enableDarkModeiOS() {\n  const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n  darkModeMediaQuery.addEventListener('change', (e) => {\n    if (e.matches) {\n      applyColorTheme(true)\n    } else {\n      applyColorTheme(false)\n    }\n  })\n  if (darkModeMediaQuery.matches) {\n    applyColorTheme(true)\n  } else {\n    applyColorTheme(false)\n  }\n}\n\nexport async function initDarkMode() {\n  if (!isSafariDarkModeSupport()) return\n  const mode = String(getArgsFromUrl('mode'))\n  matchExpr(mode, [\n    ['0', () => applyColorTheme(false)],\n    ['1', () => applyColorTheme(true)],\n    ['2', () => enableDarkModeiOS()],\n  ])\n}\nexport const reportError = (eventName: string, err: Error, vm: string, info: string) => {\n  const stack = err.stack?.split('\\n').slice(0, 6).join('\\n')\n  const dict: EventDict = {\n    str_param2: JSON.stringify({\n      vm,\n      info,\n    }),\n    str_param3: stack,\n  }\n  reportEvent(eventName, dict)\n}\n;(window as any).applyColorTheme = applyColorTheme\n\nexport const isDiwania = computed(() => {\n  const isDiwania = getArgsFromUrl('is_diwania')\n  return !!isDiwania\n})\n\nexport const client_id = {\n  google: CLIENT_ID,\n  apple:\n    process.env.VUE_APP_FLAVOR === 'weyay'\n      ? 'com.sawa.weyay.h5'\n      : isDiwania.value\n      ? 'hk.longchiu.dwn.h5'\n      : 'com.sawa.ksah5',\n  facebook: () => fb.appid,\n}\n\nexport function toDiwania() {\n  const newUrl = setUrlParams('is_diwania', 1)\n  location.href = newUrl\n}\n\nexport function sleepBlock(ms: number) {\n  const start = performance.now()\n  while (performance.now() - start < ms) {\n    /* busy-wait */\n  }\n}\n\nexport function getClientTs() {\n  const clientTs = Number(getArgsFromUrl('client_ts') || '0')\n  return clientTs\n}\n\nexport const recall_value = getArgsFromUrl('is_diwania') === '1' ? '0' : '1'\n\nexport function getLoadDuration() {\n  const clientTs = getClientTs()\n  if (!clientTs) {\n    const duration = Math.floor(performance.now())\n    return duration\n  }\n  setHashParams('client_ts', '')\n  const duration = Math.floor(Date.now() - clientTs)\n  return duration\n}\n\nexport function setHashParams(\n  key: string,\n  value: string | number | boolean | undefined,\n  replace = true\n) {\n  const [hashPath = '', hashQuery = ''] = window.location.hash.slice(1).split('?')\n  const searchParams = new URLSearchParams(hashQuery)\n\n  // 修改参数值\n  if (value === undefined) {\n    searchParams.delete(key)\n  } else {\n    searchParams.set(key, String(value))\n  }\n\n  const str = searchParams.toString()\n  let newHash = hashPath\n  if (str) {\n    newHash += `?${str}`\n  }\n\n  const newUrl = `${window.location.pathname + window.location.search}#${newHash}`\n\n  if (replace) {\n    // 可选：更新浏览器地址栏（不刷新页面）\n    window.history.replaceState({}, '', newUrl)\n  }\n\n  return newUrl\n}\n\nexport async function initDomainDial() {\n  if (process.env.VUE_APP_FLAVOR === 'weyay') {\n    if (process.env.VUE_APP_ENV === 'production') {\n      // @todo\n    } else {\n      // @todo\n    }\n  } else {\n    console.log('VUE_APP_ENV', process.env.VUE_APP_ENV)\n    if (process.env.VUE_APP_ENV === 'production') {\n      const base = resolveApiBase()\n      setApiBaseUrl(base)\n      if (base.indexOf('arab-pk-release') < 0) {\n        await FirebaseManager.getInstance().init()\n        await getConfigAndDial()\n      }\n    } else {\n      setApiBaseUrl(resolveApiBase())\n    }\n  }\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading.vue?vue&type=style&index=0&id=a127ecac&prod&scoped=true&lang=scss\"","/* eslint-disable import/prefer-default-export */\nimport { ref } from 'vue'\n\nfunction createLocalStorageManager() {\n  const reactiveStorageMap = ref({} as any)\n\n  function get(key: any): any | null {\n    const value = reactiveStorageMap.value[key]\n    if (!value) {\n      const v = localStorage.getItem(key)\n      try {\n        if (v) {\n          const value = JSON.parse(decodeURIComponent(atob(v)))\n          reactiveStorageMap.value[key] = value\n          return value\n        }\n      } catch (e) {\n        // throwError({ err: '解key失败', data: key })\n      }\n      return null\n    }\n    return value\n  }\n\n  function set(key: any, value: any) {\n    try {\n      const v = btoa(encodeURIComponent(JSON.stringify(value)))\n      localStorage.setItem(key, v)\n      reactiveStorageMap.value[key] = value\n    } catch (e) {\n      // throwError({ err: 'set key-value失败', data: { key, value } })\n    }\n  }\n  return function manager() {\n    return {\n      get,\n      set,\n    }\n  }\n}\n\nexport const useLocalStorage = createLocalStorageManager()\n","/* eslint-disable import/prefer-default-export */\nconst STORAGE_KEY_PREFIX = 'sawa_ow_'\n\nexport const LOCAL_STORAGE_KEY = {\n  上次使用过的API_BASE: `${STORAGE_KEY_PREFIX}last_use_api_base`,\n  上次使用过的神策域名: `${STORAGE_KEY_PREFIX}last_use_sensors_base`,\n  备用apilist: `${STORAGE_KEY_PREFIX}backup_api_list`,\n  备用神策list: `${STORAGE_KEY_PREFIX}backup_sensors_list`,\n}\n","/* eslint-disable import/prefer-default-export */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable no-param-reassign */\nimport { getArgsFromUrl, initWebSensors, SensorSDKName, reportWebSensors } from '@badam/common-utils'\n\nexport async function initWebSa(serv_url: string) {\n  const sa_sdk_js = './sensorsdata.min.v1.js'\n  if (process.env.VUE_APP_ENV === 'development') {\n    console.warn('[initSa] Test')\n    await initWebSensors(SensorSDKName.TEST, true)\n  }\n  else {\n    console.warn('[initSa] KSA')\n    await initWebSensors(SensorSDKName.KSA, false, 'beacon', serv_url, sa_sdk_js)\n  }\n}\n","/* eslint-disable no-underscore-dangle */\nimport { handleApiResult, api, getArgsFromUrl, setStorage, getStorage } from '@badam/common-utils'\nimport axios from 'axios'\nimport FirebaseManager from './firebase-manager'\nimport { useLocalStorage } from './local-storage-manager'\nimport { LOCAL_STORAGE_KEY } from './local-storage-manager/consts'\nimport { initWebSa } from './report'\n\nconst LOG_TAG = 'domain-dial'\n\nexport enum DialType {\n  神策 = 1,\n  API = 2,\n}\n\nexport function getArgs(k: string) {\n  const v = getArgsFromUrl(k)\n  if (v) {\n    setStorage(k, v)\n    return v\n  } else {\n    const _v = getStorage(k)\n    return _v\n  }\n}\n\nexport function setApiBaseUrl(url: string) {\n  if (url) {\n    if (getArgsFromUrl('is_debug')) {\n      return\n    }\n    axios.defaults.baseURL = url\n    console.log(LOG_TAG, 'setApiBaseUrl', axios.defaults.baseURL)\n    api.getAxiosInstance().defaults.baseURL = axios.defaults.baseURL\n  }\n}\n\nexport async function getFirebaseConfig(): Promise<string | null> {\n  return FirebaseManager.getInstance().getValueFromConfig('ow_conf')\n}\n\nconst dial_timeout = 5000\n\nexport async function dailUrls(urls: string[], type: DialType): Promise<string> {\n  const promise: Promise<string> = new Promise((r) => {\n    for (let i = 0; i < urls.length; i += 1) {\n      const url = urls[i]\n      if (type === DialType.API) {\n        dialGoPk(url).then((res) => {\n          if (res) {\n            r(url)\n          }\n        })\n      } else if (type === DialType.神策) {\n        dialSensors(url).then((res) => {\n          if (res) {\n            r(url)\n          }\n        })\n      }\n    }\n  })\n  const timeout: Promise<string> = new Promise((r) =>\n    setTimeout(() => {\n      r('')\n    }, dial_timeout)\n  )\n  return Promise.race([promise, timeout])\n}\n\nexport function resolveApiBase() {\n  const base = getArgs('api_base')\n  if (base) {\n    const v = decodeURIComponent(decodeURIComponent(base))\n    const u = new URL(v).host\n    const u2 = u.slice(-1) === '/' ? u : `${u}/`\n    return `${new URL(v).protocol}//${u2}`\n  }\n  return process.env.VUE_APP_ENV === 'development' || getArgs('is_debug')\n    ? 'https://test10-pk.badambiz.com/'\n    : 'https://gif.applecdn.cloud/'\n}\n\nexport async function dialGoPk(url: string): Promise<string> {\n  const res = await api.get(`https://${url}/api/sys/h5_info`, {})\n  return res[0] ? url : ''\n}\n\nexport async function dial(urls: string[], type: DialType) {\n  const ls = useLocalStorage()\n  if (type === DialType.API) {\n    const res = await dailUrls(urls, DialType.API)\n    if (res) {\n      ls.set(LOCAL_STORAGE_KEY.上次使用过的API_BASE, res)\n      setApiBaseUrl(`https://${res}/`)\n    } else {\n      setApiBaseUrl(resolveApiBase())\n    }\n  } else if (type === DialType.神策) {\n    const res = await dailUrls(urls, DialType.神策)\n    if (res) {\n      ls.set(LOCAL_STORAGE_KEY.上次使用过的神策域名, res)\n      const sa_url = `https://${res}/sa`\n      await initWebSa(sa_url)\n    }\n  }\n}\n\nexport async function dialSensors(url: string): Promise<string> {\n  const res = await api.get(`https://${url}/api/gm/hii`, {})\n  return res[0] ? url : ''\n}\n\nexport function dial2(go_pk: string[] | null, se: string[] | null) {\n  const ls = []\n  if (go_pk) {\n    ls.push(dial(go_pk, DialType.API))\n  }\n  if (se) {\n    ls.push(dial(se, DialType.神策))\n  }\n  return Promise.all(ls)\n}\n\nexport async function getConfigAndDial(): Promise<boolean> {\n  const ls = useLocalStorage()\n  const conf = await getFirebaseConfig()\n  if (conf) {\n    const o = JSON.parse(conf)\n    const go_pk: string[] = o.go_pk\n    const se: string[] = o.se\n    console.log(LOG_TAG, 'conf', go_pk)\n    ls.set(LOCAL_STORAGE_KEY.备用apilist, go_pk)\n    ls.set(LOCAL_STORAGE_KEY.备用神策list, se)\n    await dial2(go_pk, se)\n    return true\n  } else {\n    const go_pk = ls.get(LOCAL_STORAGE_KEY.备用apilist)\n    const se = ls.get(LOCAL_STORAGE_KEY.备用神策list)\n    await dial2(go_pk, se)\n    return true\n  }\n}\n\nexport function sleep(ms: number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms)\n  })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=73de1572&prod&lang=scss&scoped=true\""],"sourceRoot":""}